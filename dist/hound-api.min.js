!function(global){"use strict";function nonEnum(value){return{configurable:!0,enumerable:!1,value:value,writable:!0}}function newUniqueString(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++counter+"$__"}function isPrivateName(s){return privateNames[s]}function createPrivateName(){var s=newUniqueString();return privateNames[s]=!0,s}function isShimSymbol(symbol){return"object"==typeof symbol&&symbol instanceof SymbolValue}function typeOf(v){return isShimSymbol(v)?"symbol":typeof v}function Symbol(description){var value=new SymbolValue(description);if(!(this instanceof Symbol))return value;throw new TypeError("Symbol cannot be new'ed")}function SymbolValue(description){var key=newUniqueString();$defineProperty(this,symbolDataProperty,{value:this}),$defineProperty(this,symbolInternalProperty,{value:key}),$defineProperty(this,symbolDescriptionProperty,{value:description}),freeze(this),symbolValues[key]=this}function getOwnHashObject(object){var hashObject=object[hashProperty];return hashObject&&hashObject.self===object?hashObject:$isExtensible(object)?(hashObjectProperties.hash.value=hashCounter++,hashObjectProperties.self.value=object,hashPropertyDescriptor.value=$create(null,hashObjectProperties),$defineProperty(object,hashProperty,hashPropertyDescriptor),hashPropertyDescriptor.value):void 0}function freeze(object){return getOwnHashObject(object),$freeze.apply(this,arguments)}function preventExtensions(object){return getOwnHashObject(object),$preventExtensions.apply(this,arguments)}function seal(object){return getOwnHashObject(object),$seal.apply(this,arguments)}function isSymbolString(s){return symbolValues[s]||privateNames[s]}function toProperty(name){return isShimSymbol(name)?name[symbolInternalProperty]:name}function removeSymbolKeys(array){for(var rv=[],i=0;i<array.length;i++)isSymbolString(array[i])||rv.push(array[i]);return rv}function getOwnPropertyNames(object){return removeSymbolKeys($getOwnPropertyNames(object))}function keys(object){return removeSymbolKeys($keys(object))}function getOwnPropertySymbols(object){for(var rv=[],names=$getOwnPropertyNames(object),i=0;i<names.length;i++){var symbol=symbolValues[names[i]];symbol&&rv.push(symbol)}return rv}function getOwnPropertyDescriptor(object,name){return $getOwnPropertyDescriptor(object,toProperty(name))}function hasOwnProperty(name){return $hasOwnProperty.call(this,toProperty(name))}function getOption(name){return global.traceur&&global.traceur.options[name]}function defineProperty(object,name,descriptor){return isShimSymbol(name)&&(name=name[symbolInternalProperty]),$defineProperty(object,name,descriptor),object}function polyfillObject(Object){$defineProperty(Object,"defineProperty",{value:defineProperty}),$defineProperty(Object,"getOwnPropertyNames",{value:getOwnPropertyNames}),$defineProperty(Object,"getOwnPropertyDescriptor",{value:getOwnPropertyDescriptor}),$defineProperty(Object.prototype,"hasOwnProperty",{value:hasOwnProperty}),$defineProperty(Object,"freeze",{value:freeze}),$defineProperty(Object,"preventExtensions",{value:preventExtensions}),$defineProperty(Object,"seal",{value:seal}),$defineProperty(Object,"keys",{value:keys})}function exportStar(object){for(var i=1;i<arguments.length;i++)for(var names=$getOwnPropertyNames(arguments[i]),j=0;j<names.length;j++){var name=names[j];isSymbolString(name)||!function(mod,name){$defineProperty(object,name,{get:function(){return mod[name]},enumerable:!0})}(arguments[i],names[j])}return object}function isObject(x){return null!=x&&("object"==typeof x||"function"==typeof x)}function toObject(x){if(null==x)throw $TypeError();return $Object(x)}function checkObjectCoercible(argument){if(null==argument)throw new TypeError("Value cannot be converted to an Object");return argument}function polyfillSymbol(global,Symbol){global.Symbol||(global.Symbol=Symbol,Object.getOwnPropertySymbols=getOwnPropertySymbols),global.Symbol.iterator||(global.Symbol.iterator=Symbol("Symbol.iterator"))}function setupGlobals(global){polyfillSymbol(global,Symbol),global.Reflect=global.Reflect||{},global.Reflect.global=global.Reflect.global||global,polyfillObject(global.Object)}if(!global.$traceurRuntime){var $Object=Object,$TypeError=TypeError,$create=$Object.create,$defineProperties=$Object.defineProperties,$defineProperty=$Object.defineProperty,$freeze=$Object.freeze,$getOwnPropertyDescriptor=$Object.getOwnPropertyDescriptor,$getOwnPropertyNames=$Object.getOwnPropertyNames,$keys=$Object.keys,$hasOwnProperty=$Object.prototype.hasOwnProperty,$preventExtensions=($Object.prototype.toString,Object.preventExtensions),$seal=Object.seal,$isExtensible=Object.isExtensible,types={"void":function(){},any:function(){},string:function(){},number:function(){},"boolean":function(){}},method=nonEnum,counter=0,symbolInternalProperty=newUniqueString(),symbolDescriptionProperty=newUniqueString(),symbolDataProperty=newUniqueString(),symbolValues=$create(null),privateNames=$create(null);$defineProperty(Symbol.prototype,"constructor",nonEnum(Symbol)),$defineProperty(Symbol.prototype,"toString",method(function(){var symbolValue=this[symbolDataProperty];if(!getOption("symbols"))return symbolValue[symbolInternalProperty];if(!symbolValue)throw TypeError("Conversion from symbol to string");var desc=symbolValue[symbolDescriptionProperty];return void 0===desc&&(desc=""),"Symbol("+desc+")"})),$defineProperty(Symbol.prototype,"valueOf",method(function(){var symbolValue=this[symbolDataProperty];if(!symbolValue)throw TypeError("Conversion from symbol to string");return getOption("symbols")?symbolValue:symbolValue[symbolInternalProperty]})),$defineProperty(SymbolValue.prototype,"constructor",nonEnum(Symbol)),$defineProperty(SymbolValue.prototype,"toString",{value:Symbol.prototype.toString,enumerable:!1}),$defineProperty(SymbolValue.prototype,"valueOf",{value:Symbol.prototype.valueOf,enumerable:!1});var hashProperty=createPrivateName(),hashPropertyDescriptor={value:void 0},hashObjectProperties={hash:{value:void 0},self:{value:void 0}},hashCounter=0;freeze(SymbolValue.prototype),setupGlobals(global),global.$traceurRuntime={checkObjectCoercible:checkObjectCoercible,createPrivateName:createPrivateName,defineProperties:$defineProperties,defineProperty:$defineProperty,exportStar:exportStar,getOwnHashObject:getOwnHashObject,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,isObject:isObject,isPrivateName:isPrivateName,isSymbolString:isSymbolString,keys:$keys,setupGlobals:setupGlobals,toObject:toObject,toProperty:toProperty,type:types,"typeof":typeOf}}}("undefined"!=typeof global?global:this),function(){"use strict";function spread(){for(var iterResult,rv=[],j=0,i=0;i<arguments.length;i++){var valueToSpread=$traceurRuntime.checkObjectCoercible(arguments[i]);if("function"!=typeof valueToSpread[$traceurRuntime.toProperty(Symbol.iterator)])throw new TypeError("Cannot spread non-iterable object.");for(var iter=valueToSpread[$traceurRuntime.toProperty(Symbol.iterator)]();!(iterResult=iter.next()).done;)rv[j++]=iterResult.value}return rv}$traceurRuntime.spread=spread}(),function(){"use strict";function superDescriptor(homeObject,name){var proto=$getPrototypeOf(homeObject);do{var result=$getOwnPropertyDescriptor(proto,name);if(result)return result;proto=$getPrototypeOf(proto)}while(proto);return void 0}function superCall(self,homeObject,name,args){return superGet(self,homeObject,name).apply(self,args)}function superGet(self,homeObject,name){var descriptor=superDescriptor(homeObject,name);return descriptor?descriptor.get?descriptor.get.call(self):descriptor.value:void 0}function superSet(self,homeObject,name,value){var descriptor=superDescriptor(homeObject,name);if(descriptor&&descriptor.set)return descriptor.set.call(self,value),value;throw $TypeError("super has no setter '"+name+"'.")}function getDescriptors(object){for(var descriptors={},names=getOwnPropertyNames(object),i=0;i<names.length;i++){var name=names[i];descriptors[name]=$getOwnPropertyDescriptor(object,name)}for(var symbols=getOwnPropertySymbols(object),i=0;i<symbols.length;i++){var symbol=symbols[i];descriptors[$traceurRuntime.toProperty(symbol)]=$getOwnPropertyDescriptor(object,$traceurRuntime.toProperty(symbol))}return descriptors}function createClass(ctor,object,staticObject,superClass){return $defineProperty(object,"constructor",{value:ctor,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof superClass&&(ctor.__proto__=superClass),ctor.prototype=$create(getProtoParent(superClass),getDescriptors(object))):ctor.prototype=object,$defineProperty(ctor,"prototype",{configurable:!1,writable:!1}),$defineProperties(ctor,getDescriptors(staticObject))}function getProtoParent(superClass){if("function"==typeof superClass){var prototype=superClass.prototype;if($Object(prototype)===prototype||null===prototype)return superClass.prototype;throw new $TypeError("super prototype must be an Object or null")}if(null===superClass)return null;throw new $TypeError("Super expression must either be null or a function, not "+typeof superClass+".")}function defaultSuperCall(self,homeObject,args){null!==$getPrototypeOf(homeObject)&&superCall(self,homeObject,"constructor",args)}var $Object=Object,$TypeError=TypeError,$create=$Object.create,$defineProperties=$traceurRuntime.defineProperties,$defineProperty=$traceurRuntime.defineProperty,$getOwnPropertyDescriptor=$traceurRuntime.getOwnPropertyDescriptor,$getPrototypeOf=($traceurRuntime.getOwnPropertyNames,Object.getPrototypeOf),$__0=Object,getOwnPropertyNames=$__0.getOwnPropertyNames,getOwnPropertySymbols=$__0.getOwnPropertySymbols;$traceurRuntime.createClass=createClass,$traceurRuntime.defaultSuperCall=defaultSuperCall,$traceurRuntime.superCall=superCall,$traceurRuntime.superGet=superGet,$traceurRuntime.superSet=superSet}(),function(){"use strict";function nonEnum(value){return{configurable:!0,enumerable:!1,value:value,writable:!0}}function getInternalError(state){return new Error("Traceur compiler bug: invalid state in state machine: "+state)}function GeneratorContext(){this.state=0,this.GState=ST_NEWBORN,this.storedException=void 0,this.finallyFallThrough=void 0,this.sent_=void 0,this.returnValue=void 0,this.tryStack_=[]}function nextOrThrow(ctx,moveNext,action,x){switch(ctx.GState){case ST_EXECUTING:throw new Error('"'+action+'" on executing generator');case ST_CLOSED:if("next"==action)return{value:void 0,done:!0};throw x;case ST_NEWBORN:if("throw"===action)throw ctx.GState=ST_CLOSED,x;if(void 0!==x)throw $TypeError("Sent value to newborn generator");case ST_SUSPENDED:ctx.GState=ST_EXECUTING,ctx.action=action,ctx.sent=x;var value=moveNext(ctx),done=value===ctx;return done&&(value=ctx.returnValue),ctx.GState=done?ST_CLOSED:ST_SUSPENDED,{value:value,done:done}}}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function createGeneratorInstance(innerFunction,functionObject,self){var moveNext=getMoveNext(innerFunction,self),ctx=new GeneratorContext,object=$create(functionObject.prototype);return object[ctxName]=ctx,object[moveNextName]=moveNext,object}function initGeneratorFunction(functionObject){return functionObject.prototype=$create(GeneratorFunctionPrototype.prototype),functionObject.__proto__=GeneratorFunctionPrototype,functionObject}function AsyncFunctionContext(){GeneratorContext.call(this),this.err=void 0;var ctx=this;ctx.result=new Promise(function(resolve,reject){ctx.resolve=resolve,ctx.reject=reject})}function asyncWrap(innerFunction,self){var moveNext=getMoveNext(innerFunction,self),ctx=new AsyncFunctionContext;return ctx.createCallback=function(newState){return function(value){ctx.state=newState,ctx.value=value,moveNext(ctx)}},ctx.errback=function(err){handleCatch(ctx,err),moveNext(ctx)},moveNext(ctx),ctx.result}function getMoveNext(innerFunction,self){return function(ctx){for(;;)try{return innerFunction.call(self,ctx)}catch(ex){handleCatch(ctx,ex)}}}function handleCatch(ctx,ex){ctx.storedException=ex;var last=ctx.tryStack_[ctx.tryStack_.length-1];return last?(ctx.state=void 0!==last.catch?last.catch:last.finally,void(void 0!==last.finallyFallThrough&&(ctx.finallyFallThrough=last.finallyFallThrough))):void ctx.handleException(ex)}var createPrivateName=$traceurRuntime.createPrivateName,$defineProperties=$traceurRuntime.defineProperties,$defineProperty=$traceurRuntime.defineProperty,$create=Object.create,$TypeError=TypeError,ST_NEWBORN=0,ST_EXECUTING=1,ST_SUSPENDED=2,ST_CLOSED=3,END_STATE=-2,RETHROW_STATE=-3;GeneratorContext.prototype={pushTry:function(catchState,finallyState){if(null!==finallyState){for(var finallyFallThrough=null,i=this.tryStack_.length-1;i>=0;i--)if(void 0!==this.tryStack_[i].catch){finallyFallThrough=this.tryStack_[i].catch;break}null===finallyFallThrough&&(finallyFallThrough=RETHROW_STATE),this.tryStack_.push({"finally":finallyState,finallyFallThrough:finallyFallThrough})}null!==catchState&&this.tryStack_.push({"catch":catchState})},popTry:function(){this.tryStack_.pop()},get sent(){return this.maybeThrow(),this.sent_},set sent(v){this.sent_=v},get sentIgnoreThrow(){return this.sent_},maybeThrow:function(){if("throw"===this.action)throw this.action="next",this.sent_},end:function(){switch(this.state){case END_STATE:return this;case RETHROW_STATE:throw this.storedException;default:throw getInternalError(this.state)}},handleException:function(ex){throw this.GState=ST_CLOSED,this.state=END_STATE,ex}};var ctxName=createPrivateName(),moveNextName=createPrivateName();GeneratorFunction.prototype=GeneratorFunctionPrototype,$defineProperty(GeneratorFunctionPrototype,"constructor",nonEnum(GeneratorFunction)),GeneratorFunctionPrototype.prototype={constructor:GeneratorFunctionPrototype,next:function(v){return nextOrThrow(this[ctxName],this[moveNextName],"next",v)},"throw":function(v){return nextOrThrow(this[ctxName],this[moveNextName],"throw",v)}},$defineProperties(GeneratorFunctionPrototype.prototype,{constructor:{enumerable:!1},next:{enumerable:!1},"throw":{enumerable:!1}}),Object.defineProperty(GeneratorFunctionPrototype.prototype,Symbol.iterator,nonEnum(function(){return this})),AsyncFunctionContext.prototype=$create(GeneratorContext.prototype),AsyncFunctionContext.prototype.end=function(){switch(this.state){case END_STATE:this.resolve(this.returnValue);break;case RETHROW_STATE:this.reject(this.storedException);break;default:this.reject(getInternalError(this.state))}},AsyncFunctionContext.prototype.handleException=function(){this.state=RETHROW_STATE},$traceurRuntime.asyncWrap=asyncWrap,$traceurRuntime.initGeneratorFunction=initGeneratorFunction,$traceurRuntime.createGeneratorInstance=createGeneratorInstance}(),function(){function buildFromEncodedParts(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment){var out=[];return opt_scheme&&out.push(opt_scheme,":"),opt_domain&&(out.push("//"),opt_userInfo&&out.push(opt_userInfo,"@"),out.push(opt_domain),opt_port&&out.push(":",opt_port)),opt_path&&out.push(opt_path),opt_queryData&&out.push("?",opt_queryData),opt_fragment&&out.push("#",opt_fragment),out.join("")}function split(uri){return uri.match(splitRe)}function removeDotSegments(path){if("/"===path)return"/";for(var leadingSlash="/"===path[0]?"/":"",trailingSlash="/"===path.slice(-1)?"/":"",segments=path.split("/"),out=[],up=0,pos=0;pos<segments.length;pos++){var segment=segments[pos];switch(segment){case"":case".":break;case"..":out.length?out.pop():up++;break;default:out.push(segment)}}if(!leadingSlash){for(;up-->0;)out.unshift("..");0===out.length&&out.push(".")}return leadingSlash+out.join("/")+trailingSlash}function joinAndCanonicalizePath(parts){var path=parts[ComponentIndex.PATH]||"";return path=removeDotSegments(path),parts[ComponentIndex.PATH]=path,buildFromEncodedParts(parts[ComponentIndex.SCHEME],parts[ComponentIndex.USER_INFO],parts[ComponentIndex.DOMAIN],parts[ComponentIndex.PORT],parts[ComponentIndex.PATH],parts[ComponentIndex.QUERY_DATA],parts[ComponentIndex.FRAGMENT])}function canonicalizeUrl(url){var parts=split(url);return joinAndCanonicalizePath(parts)}function resolveUrl(base,url){var parts=split(url),baseParts=split(base);if(parts[ComponentIndex.SCHEME])return joinAndCanonicalizePath(parts);parts[ComponentIndex.SCHEME]=baseParts[ComponentIndex.SCHEME];for(var i=ComponentIndex.SCHEME;i<=ComponentIndex.PORT;i++)parts[i]||(parts[i]=baseParts[i]);if("/"==parts[ComponentIndex.PATH][0])return joinAndCanonicalizePath(parts);var path=baseParts[ComponentIndex.PATH],index=path.lastIndexOf("/");return path=path.slice(0,index+1)+parts[ComponentIndex.PATH],parts[ComponentIndex.PATH]=path,joinAndCanonicalizePath(parts)}function isAbsolute(name){if(!name)return!1;if("/"===name[0])return!0;var parts=split(name);return parts[ComponentIndex.SCHEME]?!0:!1}var splitRe=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};$traceurRuntime.canonicalizeUrl=canonicalizeUrl,$traceurRuntime.isAbsolute=isAbsolute,$traceurRuntime.removeDotSegments=removeDotSegments,$traceurRuntime.resolveUrl=resolveUrl}(),function(global){"use strict";function getUncoatedModuleInstantiator(name){if(name){var url=ModuleStore.normalize(name);return moduleInstantiators[url]}}function Module(uncoatedModule){var isLive=arguments[1],coatedModule=Object.create(null);return Object.getOwnPropertyNames(uncoatedModule).forEach(function(name){var getter,value;if(isLive===liveModuleSentinel){var descr=Object.getOwnPropertyDescriptor(uncoatedModule,name);descr.get&&(getter=descr.get)}getter||(value=uncoatedModule[name],getter=function(){return value}),Object.defineProperty(coatedModule,name,{get:getter,enumerable:!0})}),Object.preventExtensions(coatedModule),coatedModule}var baseURL,$__2=$traceurRuntime,canonicalizeUrl=$__2.canonicalizeUrl,resolveUrl=$__2.resolveUrl,isAbsolute=$__2.isAbsolute,moduleInstantiators=Object.create(null);baseURL=global.location&&global.location.href?resolveUrl(global.location.href,"./"):"";var UncoatedModuleEntry=function(url,uncoatedModule){this.url=url,this.value_=uncoatedModule};$traceurRuntime.createClass(UncoatedModuleEntry,{},{});var ModuleEvaluationError=function(erroneousModuleName,cause){this.message=this.constructor.name+": "+this.stripCause(cause)+" in "+erroneousModuleName,this.stack=cause instanceof $ModuleEvaluationError||!cause.stack?"":this.stripStack(cause.stack)},$ModuleEvaluationError=ModuleEvaluationError;$traceurRuntime.createClass(ModuleEvaluationError,{stripError:function(message){return message.replace(/.*Error:/,this.constructor.name+":")},stripCause:function(cause){return cause?cause.message?this.stripError(cause.message):cause+"":""},loadedBy:function(moduleName){this.stack+="\n loaded by "+moduleName},stripStack:function(causeStack){var stack=[];return causeStack.split("\n").some(function(frame){return/UncoatedModuleInstantiator/.test(frame)?!0:void stack.push(frame)}),stack[0]=this.stripError(stack[0]),stack.join("\n")}},{},Error);var UncoatedModuleInstantiator=function(url,func){$traceurRuntime.superCall(this,$UncoatedModuleInstantiator.prototype,"constructor",[url,null]),this.func=func},$UncoatedModuleInstantiator=UncoatedModuleInstantiator;$traceurRuntime.createClass(UncoatedModuleInstantiator,{getUncoatedModule:function(){if(this.value_)return this.value_;try{return this.value_=this.func.call(global)}catch(ex){if(ex instanceof ModuleEvaluationError)throw ex.loadedBy(this.url),ex;throw new ModuleEvaluationError(this.url,ex)}}},{},UncoatedModuleEntry);var moduleInstances=Object.create(null),liveModuleSentinel={},ModuleStore={normalize:function(name,refererName){if("string"!=typeof name)throw new TypeError("module name must be a string, not "+typeof name);if(isAbsolute(name))return canonicalizeUrl(name);if(/[^\.]\/\.\.\//.test(name))throw new Error("module name embeds /../: "+name);return"."===name[0]&&refererName?resolveUrl(refererName,name):canonicalizeUrl(name)},get:function(normalizedName){var m=getUncoatedModuleInstantiator(normalizedName);if(!m)return void 0;var moduleInstance=moduleInstances[m.url];return moduleInstance?moduleInstance:(moduleInstance=Module(m.getUncoatedModule(),liveModuleSentinel),moduleInstances[m.url]=moduleInstance)},set:function(normalizedName,module){normalizedName=String(normalizedName),moduleInstantiators[normalizedName]=new UncoatedModuleInstantiator(normalizedName,function(){return module}),moduleInstances[normalizedName]=module},get baseURL(){return baseURL},set baseURL(v){baseURL=String(v)},registerModule:function(name,func){var normalizedName=ModuleStore.normalize(name);if(moduleInstantiators[normalizedName])throw new Error("duplicate module named "+normalizedName);moduleInstantiators[normalizedName]=new UncoatedModuleInstantiator(normalizedName,func)},bundleStore:Object.create(null),register:function(name,deps,func){deps&&(deps.length||func.length)?this.bundleStore[name]={deps:deps,execute:function(){var $__0=arguments,depMap={};deps.forEach(function(dep,index){return depMap[dep]=$__0[index]});var registryEntry=func.call(this,depMap);return registryEntry.execute.call(this),registryEntry.exports}}:this.registerModule(name,func)},getAnonymousModule:function(func){return new Module(func.call(global),liveModuleSentinel)},getForTesting:function(name){var $__0=this;return this.testingPrefix_||Object.keys(moduleInstances).some(function(key){var m=/(traceur@[^\/]*\/)/.exec(key);return m?($__0.testingPrefix_=m[1],!0):void 0}),this.get(this.testingPrefix_+name)}};ModuleStore.set("@traceur/src/runtime/ModuleStore",new Module({ModuleStore:ModuleStore}));var setupGlobals=$traceurRuntime.setupGlobals;$traceurRuntime.setupGlobals=function(global){setupGlobals(global)},$traceurRuntime.ModuleStore=ModuleStore,global.System={register:ModuleStore.register.bind(ModuleStore),get:ModuleStore.get,set:ModuleStore.set,normalize:ModuleStore.normalize},$traceurRuntime.getModuleImpl=function(name){var instantiator=getUncoatedModuleInstantiator(name);return instantiator&&instantiator.getUncoatedModule()}}("undefined"!=typeof global?global:this),System.register("traceur-runtime@0.0.67/src/runtime/polyfills/utils",[],function(){"use strict";function toUint32(x){return x>>>0}function isObject(x){return x&&("object"==typeof x||"function"==typeof x)}function isCallable(x){return"function"==typeof x}function isNumber(x){return"number"==typeof x}function toInteger(x){return x=+x,$isNaN(x)?0:0!==x&&$isFinite(x)?x>0?$floor(x):$ceil(x):x}function toLength(x){var len=toInteger(x);return 0>len?0:$min(len,MAX_SAFE_LENGTH)}function checkIterable(x){return isObject(x)?x[Symbol.iterator]:void 0}function isConstructor(x){return isCallable(x)}function createIteratorResultObject(value,done){return{value:value,done:done}}function maybeDefine(object,name,descr){name in object||Object.defineProperty(object,name,descr)}function maybeDefineMethod(object,name,value){maybeDefine(object,name,{value:value,configurable:!0,enumerable:!1,writable:!0})}function maybeDefineConst(object,name,value){maybeDefine(object,name,{value:value,configurable:!1,enumerable:!1,writable:!1})}function maybeAddFunctions(object,functions){for(var i=0;i<functions.length;i+=2){var name=functions[i],value=functions[i+1];maybeDefineMethod(object,name,value)}}function maybeAddConsts(object,consts){for(var i=0;i<consts.length;i+=2){var name=consts[i],value=consts[i+1];maybeDefineConst(object,name,value)}}function maybeAddIterator(object,func,Symbol){Symbol&&Symbol.iterator&&!object[Symbol.iterator]&&(object["@@iterator"]&&(func=object["@@iterator"]),Object.defineProperty(object,Symbol.iterator,{value:func,configurable:!0,enumerable:!1,writable:!0}))}function registerPolyfill(func){polyfills.push(func)}function polyfillAll(global){polyfills.forEach(function(f){return f(global)})}var $ceil=Math.ceil,$floor=Math.floor,$isFinite=isFinite,$isNaN=isNaN,$pow=Math.pow,$min=Math.min,toObject=$traceurRuntime.toObject,MAX_SAFE_LENGTH=$pow(2,53)-1,polyfills=[];return{get toObject(){return toObject},get toUint32(){return toUint32},get isObject(){return isObject},get isCallable(){return isCallable},get isNumber(){return isNumber},get toInteger(){return toInteger},get toLength(){return toLength},get checkIterable(){return checkIterable},get isConstructor(){return isConstructor},get createIteratorResultObject(){return createIteratorResultObject},get maybeDefine(){return maybeDefine},get maybeDefineMethod(){return maybeDefineMethod},get maybeDefineConst(){return maybeDefineConst},get maybeAddFunctions(){return maybeAddFunctions},get maybeAddConsts(){return maybeAddConsts},get maybeAddIterator(){return maybeAddIterator},get registerPolyfill(){return registerPolyfill},get polyfillAll(){return polyfillAll}}}),System.register("traceur-runtime@0.0.67/src/runtime/polyfills/Map",[],function(){"use strict";function lookupIndex(map,key){if(isObject(key)){var hashObject=getOwnHashObject(key);return hashObject&&map.objectIndex_[hashObject.hash]}return"string"==typeof key?map.stringIndex_[key]:map.primitiveIndex_[key]}function initMap(map){map.entries_=[],map.objectIndex_=Object.create(null),map.stringIndex_=Object.create(null),map.primitiveIndex_=Object.create(null),map.deletedCount_=0}function polyfillMap(global){var $__4=global,Object=$__4.Object,Symbol=$__4.Symbol;global.Map||(global.Map=Map);var mapPrototype=global.Map.prototype;void 0===mapPrototype.entries&&(global.Map=Map),mapPrototype.entries&&(maybeAddIterator(mapPrototype,mapPrototype.entries,Symbol),maybeAddIterator(Object.getPrototypeOf((new global.Map).entries()),function(){return this},Symbol))}var $__0=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/utils"),isObject=$__0.isObject,maybeAddIterator=$__0.maybeAddIterator,registerPolyfill=$__0.registerPolyfill,getOwnHashObject=$traceurRuntime.getOwnHashObject,$hasOwnProperty=Object.prototype.hasOwnProperty,deletedSentinel={},Map=function(){var iterable=arguments[0];if(!isObject(this))throw new TypeError("Map called on incompatible type");if($hasOwnProperty.call(this,"entries_"))throw new TypeError("Map can not be reentrantly initialised");if(initMap(this),null!==iterable&&void 0!==iterable)for(var $__3,$__2=iterable[Symbol.iterator]();!($__3=$__2.next()).done;){var $__4=$__3.value,key=$__4[0],value=$__4[1];this.set(key,value)}};return $traceurRuntime.createClass(Map,{get size(){return this.entries_.length/2-this.deletedCount_},get:function(key){var index=lookupIndex(this,key);return void 0!==index?this.entries_[index+1]:void 0},set:function(key,value){var objectMode=isObject(key),stringMode="string"==typeof key,index=lookupIndex(this,key);if(void 0!==index)this.entries_[index+1]=value;else if(index=this.entries_.length,this.entries_[index]=key,this.entries_[index+1]=value,objectMode){var hashObject=getOwnHashObject(key),hash=hashObject.hash;this.objectIndex_[hash]=index}else stringMode?this.stringIndex_[key]=index:this.primitiveIndex_[key]=index;return this},has:function(key){return void 0!==lookupIndex(this,key)},"delete":function(key){var index,hash,objectMode=isObject(key),stringMode="string"==typeof key;if(objectMode){var hashObject=getOwnHashObject(key);hashObject&&(index=this.objectIndex_[hash=hashObject.hash],delete this.objectIndex_[hash])}else stringMode?(index=this.stringIndex_[key],delete this.stringIndex_[key]):(index=this.primitiveIndex_[key],delete this.primitiveIndex_[key]);return void 0!==index?(this.entries_[index]=deletedSentinel,this.entries_[index+1]=void 0,this.deletedCount_++,!0):!1},clear:function(){initMap(this)},forEach:function(callbackFn){for(var thisArg=arguments[1],i=0;i<this.entries_.length;i+=2){var key=this.entries_[i],value=this.entries_[i+1];key!==deletedSentinel&&callbackFn.call(thisArg,value,key,this)}},entries:$traceurRuntime.initGeneratorFunction(function $__5(){var i,key,value;return $traceurRuntime.createGeneratorInstance(function($ctx){for(;;)switch($ctx.state){case 0:i=0,$ctx.state=12;break;case 12:$ctx.state=i<this.entries_.length?8:-2;break;case 4:i+=2,$ctx.state=12;break;case 8:key=this.entries_[i],value=this.entries_[i+1],$ctx.state=9;break;case 9:$ctx.state=key===deletedSentinel?4:6;break;case 6:return $ctx.state=2,[key,value];case 2:$ctx.maybeThrow(),$ctx.state=4;break;default:return $ctx.end()}},$__5,this)}),keys:$traceurRuntime.initGeneratorFunction(function $__6(){var i,key,value;return $traceurRuntime.createGeneratorInstance(function($ctx){for(;;)switch($ctx.state){case 0:i=0,$ctx.state=12;break;case 12:$ctx.state=i<this.entries_.length?8:-2;break;case 4:i+=2,$ctx.state=12;break;case 8:key=this.entries_[i],value=this.entries_[i+1],$ctx.state=9;break;case 9:$ctx.state=key===deletedSentinel?4:6;break;case 6:return $ctx.state=2,key;case 2:$ctx.maybeThrow(),$ctx.state=4;break;default:return $ctx.end()}},$__6,this)}),values:$traceurRuntime.initGeneratorFunction(function $__7(){var i,key,value;return $traceurRuntime.createGeneratorInstance(function($ctx){for(;;)switch($ctx.state){case 0:i=0,$ctx.state=12;break;case 12:$ctx.state=i<this.entries_.length?8:-2;break;case 4:i+=2,$ctx.state=12;break;case 8:key=this.entries_[i],value=this.entries_[i+1],$ctx.state=9;break;case 9:$ctx.state=key===deletedSentinel?4:6;break;case 6:return $ctx.state=2,value;case 2:$ctx.maybeThrow(),$ctx.state=4;break;default:return $ctx.end()}},$__7,this)})},{}),Object.defineProperty(Map.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:Map.prototype.entries}),registerPolyfill(polyfillMap),{get Map(){return Map},get polyfillMap(){return polyfillMap}}}),System.get("traceur-runtime@0.0.67/src/runtime/polyfills/Map"),System.register("traceur-runtime@0.0.67/src/runtime/polyfills/Set",[],function(){"use strict";function initSet(set){set.map_=new Map}function polyfillSet(global){var $__6=global,Object=$__6.Object,Symbol=$__6.Symbol;global.Set||(global.Set=Set);var setPrototype=global.Set.prototype;setPrototype.values&&(maybeAddIterator(setPrototype,setPrototype.values,Symbol),maybeAddIterator(Object.getPrototypeOf((new global.Set).values()),function(){return this},Symbol))}var $__0=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/utils"),isObject=$__0.isObject,maybeAddIterator=$__0.maybeAddIterator,registerPolyfill=$__0.registerPolyfill,Map=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/Map").Map,$hasOwnProperty=($traceurRuntime.getOwnHashObject,Object.prototype.hasOwnProperty),Set=function(){var iterable=arguments[0];if(!isObject(this))throw new TypeError("Set called on incompatible type");if($hasOwnProperty.call(this,"map_"))throw new TypeError("Set can not be reentrantly initialised");if(initSet(this),null!==iterable&&void 0!==iterable)for(var $__5,$__4=iterable[Symbol.iterator]();!($__5=$__4.next()).done;){var item=$__5.value;this.add(item)}};return $traceurRuntime.createClass(Set,{get size(){return this.map_.size},has:function(key){return this.map_.has(key)},add:function(key){return this.map_.set(key,key),this},"delete":function(key){return this.map_.delete(key)},clear:function(){return this.map_.clear()},forEach:function(callbackFn){var thisArg=arguments[1],$__2=this;return this.map_.forEach(function(value,key){callbackFn.call(thisArg,key,key,$__2)})},values:$traceurRuntime.initGeneratorFunction(function $__7(){var $__8,$__9;return $traceurRuntime.createGeneratorInstance(function($ctx){for(;;)switch($ctx.state){case 0:$__8=this.map_.keys()[Symbol.iterator](),$ctx.sent=void 0,$ctx.action="next",$ctx.state=12;break;case 12:$__9=$__8[$ctx.action]($ctx.sentIgnoreThrow),$ctx.state=9;break;case 9:$ctx.state=$__9.done?3:2;break;case 3:$ctx.sent=$__9.value,$ctx.state=-2;break;case 2:return $ctx.state=12,$__9.value;default:return $ctx.end()}},$__7,this)}),entries:$traceurRuntime.initGeneratorFunction(function $__10(){var $__11,$__12;return $traceurRuntime.createGeneratorInstance(function($ctx){for(;;)switch($ctx.state){case 0:$__11=this.map_.entries()[Symbol.iterator](),$ctx.sent=void 0,$ctx.action="next",$ctx.state=12;break;case 12:$__12=$__11[$ctx.action]($ctx.sentIgnoreThrow),$ctx.state=9;
break;case 9:$ctx.state=$__12.done?3:2;break;case 3:$ctx.sent=$__12.value,$ctx.state=-2;break;case 2:return $ctx.state=12,$__12.value;default:return $ctx.end()}},$__10,this)})},{}),Object.defineProperty(Set.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:Set.prototype.values}),Object.defineProperty(Set.prototype,"keys",{configurable:!0,writable:!0,value:Set.prototype.values}),registerPolyfill(polyfillSet),{get Set(){return Set},get polyfillSet(){return polyfillSet}}}),System.get("traceur-runtime@0.0.67/src/runtime/polyfills/Set"),System.register("traceur-runtime@0.0.67/node_modules/rsvp/lib/rsvp/asap",[],function(){"use strict";function asap(callback,arg){queue[len]=callback,queue[len+1]=arg,len+=2,2===len&&scheduleFlush()}function useNextTick(){return function(){process.nextTick(flush)}}function useMutationObserver(){var iterations=0,observer=new BrowserMutationObserver(flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}function useMessageChannel(){var channel=new MessageChannel;return channel.port1.onmessage=flush,function(){channel.port2.postMessage(0)}}function useSetTimeout(){return function(){setTimeout(flush,1)}}function flush(){for(var i=0;len>i;i+=2){var callback=queue[i],arg=queue[i+1];callback(arg),queue[i]=void 0,queue[i+1]=void 0}len=0}var scheduleFlush,len=0,$__default=asap,browserGlobal="undefined"!=typeof window?window:{},BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver,isWorker="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,queue=new Array(1e3);return scheduleFlush="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?useNextTick():BrowserMutationObserver?useMutationObserver():isWorker?useMessageChannel():useSetTimeout(),{get default(){return $__default}}}),System.register("traceur-runtime@0.0.67/src/runtime/polyfills/Promise",[],function(){"use strict";function isPromise(x){return x&&"object"==typeof x&&void 0!==x.status_}function idResolveHandler(x){return x}function idRejectHandler(x){throw x}function chain(promise){var onResolve=void 0!==arguments[1]?arguments[1]:idResolveHandler,onReject=void 0!==arguments[2]?arguments[2]:idRejectHandler,deferred=getDeferred(promise.constructor);switch(promise.status_){case void 0:throw TypeError;case 0:promise.onResolve_.push(onResolve,deferred),promise.onReject_.push(onReject,deferred);break;case 1:promiseEnqueue(promise.value_,[onResolve,deferred]);break;case-1:promiseEnqueue(promise.value_,[onReject,deferred])}return deferred.promise}function getDeferred(C){if(this===$Promise){var promise=promiseInit(new $Promise(promiseRaw));return{promise:promise,resolve:function(x){promiseResolve(promise,x)},reject:function(r){promiseReject(promise,r)}}}var result={};return result.promise=new C(function(resolve,reject){result.resolve=resolve,result.reject=reject}),result}function promiseSet(promise,status,value,onResolve,onReject){return promise.status_=status,promise.value_=value,promise.onResolve_=onResolve,promise.onReject_=onReject,promise}function promiseInit(promise){return promiseSet(promise,0,void 0,[],[])}function promiseResolve(promise,x){promiseDone(promise,1,x,promise.onResolve_)}function promiseReject(promise,r){promiseDone(promise,-1,r,promise.onReject_)}function promiseDone(promise,status,value,reactions){0===promise.status_&&(promiseEnqueue(value,reactions),promiseSet(promise,status,value))}function promiseEnqueue(value,tasks){async(function(){for(var i=0;i<tasks.length;i+=2)promiseHandle(value,tasks[i],tasks[i+1])})}function promiseHandle(value,handler,deferred){try{var result=handler(value);if(result===deferred.promise)throw new TypeError;isPromise(result)?chain(result,deferred.resolve,deferred.reject):deferred.resolve(result)}catch(e){try{deferred.reject(e)}catch(e){}}}function isObject(x){return x&&("object"==typeof x||"function"==typeof x)}function promiseCoerce(constructor,x){if(!isPromise(x)&&isObject(x)){var then;try{then=x.then}catch(r){var promise=$PromiseReject.call(constructor,r);return x[thenableSymbol]=promise,promise}if("function"==typeof then){var p=x[thenableSymbol];if(p)return p;var deferred=getDeferred(constructor);x[thenableSymbol]=deferred.promise;try{then.call(x,deferred.resolve,deferred.reject)}catch(r){deferred.reject(r)}return deferred.promise}}return x}function polyfillPromise(global){global.Promise||(global.Promise=Promise)}var async=System.get("traceur-runtime@0.0.67/node_modules/rsvp/lib/rsvp/asap").default,registerPolyfill=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/utils").registerPolyfill,promiseRaw={},Promise=function(resolver){if(resolver!==promiseRaw){if("function"!=typeof resolver)throw new TypeError;var promise=promiseInit(this);try{resolver(function(x){promiseResolve(promise,x)},function(r){promiseReject(promise,r)})}catch(e){promiseReject(promise,e)}}};$traceurRuntime.createClass(Promise,{"catch":function(onReject){return this.then(void 0,onReject)},then:function(onResolve,onReject){"function"!=typeof onResolve&&(onResolve=idResolveHandler),"function"!=typeof onReject&&(onReject=idRejectHandler);var that=this,constructor=this.constructor;return chain(this,function(x){return x=promiseCoerce(constructor,x),x===that?onReject(new TypeError):isPromise(x)?x.then(onResolve,onReject):onResolve(x)},onReject)}},{resolve:function(x){return this===$Promise?isPromise(x)?x:promiseSet(new $Promise(promiseRaw),1,x):new this(function(resolve){resolve(x)})},reject:function(r){return this===$Promise?promiseSet(new $Promise(promiseRaw),-1,r):new this(function(resolve,reject){reject(r)})},all:function(values){var deferred=getDeferred(this),resolutions=[];try{var count=values.length;if(0===count)deferred.resolve(resolutions);else for(var i=0;i<values.length;i++)this.resolve(values[i]).then(function(i,x){resolutions[i]=x,0===--count&&deferred.resolve(resolutions)}.bind(void 0,i),function(r){deferred.reject(r)})}catch(e){deferred.reject(e)}return deferred.promise},race:function(values){var deferred=getDeferred(this);try{for(var i=0;i<values.length;i++)this.resolve(values[i]).then(function(x){deferred.resolve(x)},function(r){deferred.reject(r)})}catch(e){deferred.reject(e)}return deferred.promise}});var $Promise=Promise,$PromiseReject=$Promise.reject,thenableSymbol="@@thenable";return registerPolyfill(polyfillPromise),{get Promise(){return Promise},get polyfillPromise(){return polyfillPromise}}}),System.get("traceur-runtime@0.0.67/src/runtime/polyfills/Promise"),System.register("traceur-runtime@0.0.67/src/runtime/polyfills/StringIterator",[],function(){"use strict";function createStringIterator(string){var s=String(string),iterator=Object.create(StringIterator.prototype);return iterator[toProperty(iteratedString)]=s,iterator[toProperty(stringIteratorNextIndex)]=0,iterator}var $__2,$__0=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/utils"),createIteratorResultObject=$__0.createIteratorResultObject,isObject=$__0.isObject,toProperty=$traceurRuntime.toProperty,hasOwnProperty=Object.prototype.hasOwnProperty,iteratedString=Symbol("iteratedString"),stringIteratorNextIndex=Symbol("stringIteratorNextIndex"),StringIterator=function(){};return $traceurRuntime.createClass(StringIterator,($__2={},Object.defineProperty($__2,"next",{value:function(){var o=this;if(!isObject(o)||!hasOwnProperty.call(o,iteratedString))throw new TypeError("this must be a StringIterator object");var s=o[toProperty(iteratedString)];if(void 0===s)return createIteratorResultObject(void 0,!0);var position=o[toProperty(stringIteratorNextIndex)],len=s.length;if(position>=len)return o[toProperty(iteratedString)]=void 0,createIteratorResultObject(void 0,!0);var resultString,first=s.charCodeAt(position);if(55296>first||first>56319||position+1===len)resultString=String.fromCharCode(first);else{var second=s.charCodeAt(position+1);resultString=56320>second||second>57343?String.fromCharCode(first):String.fromCharCode(first)+String.fromCharCode(second)}return o[toProperty(stringIteratorNextIndex)]=position+resultString.length,createIteratorResultObject(resultString,!1)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__2,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),$__2),{}),{get createStringIterator(){return createStringIterator}}}),System.register("traceur-runtime@0.0.67/src/runtime/polyfills/String",[],function(){"use strict";function startsWith(search){var string=String(this);if(null==this||"[object RegExp]"==$toString.call(search))throw TypeError();var stringLength=string.length,searchString=String(search),position=(searchString.length,arguments.length>1?arguments[1]:void 0),pos=position?Number(position):0;isNaN(pos)&&(pos=0);var start=Math.min(Math.max(pos,0),stringLength);return $indexOf.call(string,searchString,pos)==start}function endsWith(search){var string=String(this);if(null==this||"[object RegExp]"==$toString.call(search))throw TypeError();var stringLength=string.length,searchString=String(search),searchLength=searchString.length,pos=stringLength;if(arguments.length>1){var position=arguments[1];void 0!==position&&(pos=position?Number(position):0,isNaN(pos)&&(pos=0))}var end=Math.min(Math.max(pos,0),stringLength),start=end-searchLength;return 0>start?!1:$lastIndexOf.call(string,searchString,start)==start}function contains(search){if(null==this)throw TypeError();var string=String(this),stringLength=string.length,searchString=String(search),position=(searchString.length,arguments.length>1?arguments[1]:void 0),pos=position?Number(position):0;isNaN(pos)&&(pos=0);Math.min(Math.max(pos,0),stringLength);return-1!=$indexOf.call(string,searchString,pos)}function repeat(count){if(null==this)throw TypeError();var string=String(this),n=count?Number(count):0;if(isNaN(n)&&(n=0),0>n||1/0==n)throw RangeError();if(0==n)return"";for(var result="";n--;)result+=string;return result}function codePointAt(position){if(null==this)throw TypeError();var string=String(this),size=string.length,index=position?Number(position):0;if(isNaN(index)&&(index=0),0>index||index>=size)return void 0;var second,first=string.charCodeAt(index);return first>=55296&&56319>=first&&size>index+1&&(second=string.charCodeAt(index+1),second>=56320&&57343>=second)?1024*(first-55296)+second-56320+65536:first}function raw(callsite){var raw=callsite.raw,len=raw.length>>>0;if(0===len)return"";for(var s="",i=0;;){if(s+=raw[i],i+1===len)return s;s+=arguments[++i]}}function fromCodePoint(){var highSurrogate,lowSurrogate,codeUnits=[],floor=Math.floor,index=-1,length=arguments.length;if(!length)return"";for(;++index<length;){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||0>codePoint||codePoint>1114111||floor(codePoint)!=codePoint)throw RangeError("Invalid code point: "+codePoint);65535>=codePoint?codeUnits.push(codePoint):(codePoint-=65536,highSurrogate=(codePoint>>10)+55296,lowSurrogate=codePoint%1024+56320,codeUnits.push(highSurrogate,lowSurrogate))}return String.fromCharCode.apply(null,codeUnits)}function stringPrototypeIterator(){var o=$traceurRuntime.checkObjectCoercible(this),s=String(o);return createStringIterator(s)}function polyfillString(global){var String=global.String;maybeAddFunctions(String.prototype,["codePointAt",codePointAt,"contains",contains,"endsWith",endsWith,"startsWith",startsWith,"repeat",repeat]),maybeAddFunctions(String,["fromCodePoint",fromCodePoint,"raw",raw]),maybeAddIterator(String.prototype,stringPrototypeIterator,Symbol)}var createStringIterator=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/StringIterator").createStringIterator,$__1=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/utils"),maybeAddFunctions=$__1.maybeAddFunctions,maybeAddIterator=$__1.maybeAddIterator,registerPolyfill=$__1.registerPolyfill,$toString=Object.prototype.toString,$indexOf=String.prototype.indexOf,$lastIndexOf=String.prototype.lastIndexOf;return registerPolyfill(polyfillString),{get startsWith(){return startsWith},get endsWith(){return endsWith},get contains(){return contains},get repeat(){return repeat},get codePointAt(){return codePointAt},get raw(){return raw},get fromCodePoint(){return fromCodePoint},get stringPrototypeIterator(){return stringPrototypeIterator},get polyfillString(){return polyfillString}}}),System.get("traceur-runtime@0.0.67/src/runtime/polyfills/String"),System.register("traceur-runtime@0.0.67/src/runtime/polyfills/ArrayIterator",[],function(){"use strict";function createArrayIterator(array,kind){var object=toObject(array),iterator=new ArrayIterator;return iterator.iteratorObject_=object,iterator.arrayIteratorNextIndex_=0,iterator.arrayIterationKind_=kind,iterator}function entries(){return createArrayIterator(this,ARRAY_ITERATOR_KIND_ENTRIES)}function keys(){return createArrayIterator(this,ARRAY_ITERATOR_KIND_KEYS)}function values(){return createArrayIterator(this,ARRAY_ITERATOR_KIND_VALUES)}var $__2,$__0=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/utils"),toObject=$__0.toObject,toUint32=$__0.toUint32,createIteratorResultObject=$__0.createIteratorResultObject,ARRAY_ITERATOR_KIND_KEYS=1,ARRAY_ITERATOR_KIND_VALUES=2,ARRAY_ITERATOR_KIND_ENTRIES=3,ArrayIterator=function(){};return $traceurRuntime.createClass(ArrayIterator,($__2={},Object.defineProperty($__2,"next",{value:function(){var iterator=toObject(this),array=iterator.iteratorObject_;if(!array)throw new TypeError("Object is not an ArrayIterator");var index=iterator.arrayIteratorNextIndex_,itemKind=iterator.arrayIterationKind_,length=toUint32(array.length);return index>=length?(iterator.arrayIteratorNextIndex_=1/0,createIteratorResultObject(void 0,!0)):(iterator.arrayIteratorNextIndex_=index+1,itemKind==ARRAY_ITERATOR_KIND_VALUES?createIteratorResultObject(array[index],!1):itemKind==ARRAY_ITERATOR_KIND_ENTRIES?createIteratorResultObject([index,array[index]],!1):createIteratorResultObject(index,!1))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__2,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),$__2),{}),{get entries(){return entries},get keys(){return keys},get values(){return values}}}),System.register("traceur-runtime@0.0.67/src/runtime/polyfills/Array",[],function(){"use strict";function from(arrLike){var arr,len,mapFn=arguments[1],thisArg=arguments[2],C=this,items=toObject(arrLike),mapping=void 0!==mapFn,k=0;if(mapping&&!isCallable(mapFn))throw TypeError();if(checkIterable(items)){arr=isConstructor(C)?new C:[];for(var $__3,$__2=items[Symbol.iterator]();!($__3=$__2.next()).done;){var item=$__3.value;arr[k]=mapping?mapFn.call(thisArg,item,k):item,k++}return arr.length=k,arr}for(len=toLength(items.length),arr=isConstructor(C)?new C(len):new Array(len);len>k;k++)arr[k]=mapping?"undefined"==typeof thisArg?mapFn(items[k],k):mapFn.call(thisArg,items[k],k):items[k];return arr.length=len,arr}function of(){for(var items=[],$__4=0;$__4<arguments.length;$__4++)items[$__4]=arguments[$__4];for(var C=this,len=items.length,arr=isConstructor(C)?new C(len):new Array(len),k=0;len>k;k++)arr[k]=items[k];return arr.length=len,arr}function fill(value){var start=void 0!==arguments[1]?arguments[1]:0,end=arguments[2],object=toObject(this),len=toLength(object.length),fillStart=toInteger(start),fillEnd=void 0!==end?toInteger(end):len;for(fillStart=0>fillStart?Math.max(len+fillStart,0):Math.min(fillStart,len),fillEnd=0>fillEnd?Math.max(len+fillEnd,0):Math.min(fillEnd,len);fillEnd>fillStart;)object[fillStart]=value,fillStart++;return object}function find(predicate){var thisArg=arguments[1];return findHelper(this,predicate,thisArg)}function findIndex(predicate){var thisArg=arguments[1];return findHelper(this,predicate,thisArg,!0)}function findHelper(self,predicate){var thisArg=arguments[2],returnIndex=void 0!==arguments[3]?arguments[3]:!1,object=toObject(self),len=toLength(object.length);if(!isCallable(predicate))throw TypeError();for(var i=0;len>i;i++){var value=object[i];if(predicate.call(thisArg,value,i,object))return returnIndex?i:value}return returnIndex?-1:void 0}function polyfillArray(global){var $__5=global,Array=$__5.Array,Object=$__5.Object,Symbol=$__5.Symbol;maybeAddFunctions(Array.prototype,["entries",entries,"keys",keys,"values",values,"fill",fill,"find",find,"findIndex",findIndex]),maybeAddFunctions(Array,["from",from,"of",of]),maybeAddIterator(Array.prototype,values,Symbol),maybeAddIterator(Object.getPrototypeOf([].values()),function(){return this},Symbol)}var $__0=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/ArrayIterator"),entries=$__0.entries,keys=$__0.keys,values=$__0.values,$__1=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/utils"),checkIterable=$__1.checkIterable,isCallable=$__1.isCallable,isConstructor=$__1.isConstructor,maybeAddFunctions=$__1.maybeAddFunctions,maybeAddIterator=$__1.maybeAddIterator,registerPolyfill=$__1.registerPolyfill,toInteger=$__1.toInteger,toLength=$__1.toLength,toObject=$__1.toObject;return registerPolyfill(polyfillArray),{get from(){return from},get of(){return of},get fill(){return fill},get find(){return find},get findIndex(){return findIndex},get polyfillArray(){return polyfillArray}}}),System.get("traceur-runtime@0.0.67/src/runtime/polyfills/Array"),System.register("traceur-runtime@0.0.67/src/runtime/polyfills/Object",[],function(){"use strict";function is(left,right){return left===right?0!==left||1/left===1/right:left!==left&&right!==right}function assign(target){for(var i=1;i<arguments.length;i++){var p,source=arguments[i],props=keys(source),length=props.length;for(p=0;length>p;p++){var name=props[p];isPrivateName(name)||(target[name]=source[name])}}return target}function mixin(target,source){var p,descriptor,props=getOwnPropertyNames(source),length=props.length;for(p=0;length>p;p++){var name=props[p];isPrivateName(name)||(descriptor=getOwnPropertyDescriptor(source,props[p]),defineProperty(target,props[p],descriptor))}return target}function polyfillObject(global){var Object=global.Object;maybeAddFunctions(Object,["assign",assign,"is",is,"mixin",mixin])}var $__0=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/utils"),maybeAddFunctions=$__0.maybeAddFunctions,registerPolyfill=$__0.registerPolyfill,$__1=$traceurRuntime,defineProperty=$__1.defineProperty,getOwnPropertyDescriptor=$__1.getOwnPropertyDescriptor,getOwnPropertyNames=$__1.getOwnPropertyNames,isPrivateName=$__1.isPrivateName,keys=$__1.keys;return registerPolyfill(polyfillObject),{get is(){return is},get assign(){return assign},get mixin(){return mixin},get polyfillObject(){return polyfillObject}}}),System.get("traceur-runtime@0.0.67/src/runtime/polyfills/Object"),System.register("traceur-runtime@0.0.67/src/runtime/polyfills/Number",[],function(){"use strict";function NumberIsFinite(number){return isNumber(number)&&$isFinite(number)}function isInteger(number){return NumberIsFinite(number)&&toInteger(number)===number}function NumberIsNaN(number){return isNumber(number)&&$isNaN(number)}function isSafeInteger(number){if(NumberIsFinite(number)){var integral=toInteger(number);if(integral===number)return $abs(integral)<=MAX_SAFE_INTEGER}return!1}function polyfillNumber(global){var Number=global.Number;maybeAddConsts(Number,["MAX_SAFE_INTEGER",MAX_SAFE_INTEGER,"MIN_SAFE_INTEGER",MIN_SAFE_INTEGER,"EPSILON",EPSILON]),maybeAddFunctions(Number,["isFinite",NumberIsFinite,"isInteger",isInteger,"isNaN",NumberIsNaN,"isSafeInteger",isSafeInteger])}var $__0=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/utils"),isNumber=$__0.isNumber,maybeAddConsts=$__0.maybeAddConsts,maybeAddFunctions=$__0.maybeAddFunctions,registerPolyfill=$__0.registerPolyfill,toInteger=$__0.toInteger,$abs=Math.abs,$isFinite=isFinite,$isNaN=isNaN,MAX_SAFE_INTEGER=Math.pow(2,53)-1,MIN_SAFE_INTEGER=-Math.pow(2,53)+1,EPSILON=Math.pow(2,-52);return registerPolyfill(polyfillNumber),{get MAX_SAFE_INTEGER(){return MAX_SAFE_INTEGER},get MIN_SAFE_INTEGER(){return MIN_SAFE_INTEGER},get EPSILON(){return EPSILON},get isFinite(){return NumberIsFinite},get isInteger(){return isInteger},get isNaN(){return NumberIsNaN},get isSafeInteger(){return isSafeInteger},get polyfillNumber(){return polyfillNumber}}}),System.get("traceur-runtime@0.0.67/src/runtime/polyfills/Number"),System.register("traceur-runtime@0.0.67/src/runtime/polyfills/polyfills",[],function(){"use strict";var polyfillAll=System.get("traceur-runtime@0.0.67/src/runtime/polyfills/utils").polyfillAll;polyfillAll(this);var setupGlobals=$traceurRuntime.setupGlobals;return $traceurRuntime.setupGlobals=function(global){setupGlobals(global),polyfillAll(global)},{}}),System.get("traceur-runtime@0.0.67/src/runtime/polyfills/polyfills"),System.register("models/internal/debug-helpers",[],function(){"use strict";var debug={log:!1,warn:!0,error:!0},isDevAndDebug=function(){return window.mhDebug&&"local.mediahound.com:2014"===window.location.host},log=function(override){for(var args=[],$__0=1;$__0<arguments.length;$__0++)args[$__0-1]=arguments[$__0];"boolean"!=typeof override&&(args.unshift(override),override=!1),console&&console.log&&(override||debug.log||isDevAndDebug())&&console.log.apply(console,arguments)},warn=function(override){for(var args=[],$__1=1;$__1<arguments.length;$__1++)args[$__1-1]=arguments[$__1];"boolean"!=typeof override&&(args.unshift(override),override=!1),console&&console.warn&&(override||debug.warn||isDevAndDebug())&&console.warn.apply(console,args)},error=function(override){for(var args=[],$__2=1;$__2<arguments.length;$__2++)args[$__2-1]=arguments[$__2];"boolean"!=typeof override&&(args.unshift(override),override=!1),console&&console.error&&(override||debug.error||isDevAndDebug())&&console.error.apply(console,args)};return{get log(){return log},get warn(){return warn},get error(){return error}}}),System.register("request/promise-request",[],function(){"use strict";if(!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest))throw new Error("No XMLHttpRequest 2 Object found, please update your browser.");var extraEncode=function(str){return encodeURIComponent(str).replace(/\-/g,"%2D").replace(/\_/g,"%5F").replace(/\./g,"%2E").replace(/\!/g,"%21").replace(/\~/g,"%7E").replace(/\*/g,"%2A").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")},promiseRequest=function(args){var prop,rtnPromise,method=args.method||"GET",url=args.url||null,params=args.params||null,data=args.data||null,headers=args.headers||null,withCreds=args.withCredentials||!1,onprogress=args.onprogress||args.onProgress||null,xhr=new XMLHttpRequest;if(null===url)throw new TypeError("url was null or undefined in arguments object","promiseRequest.js",70);if(null!==params){url+="?";for(prop in params)params.hasOwnProperty(prop)&&("?"!==url[url.length-1]&&(url+="&"),url+="string"==typeof params[prop]||params[prop]instanceof String?encodeURIComponent(prop)+"="+extraEncode(params[prop]).replace("%20","+"):encodeURIComponent(prop)+"="+extraEncode(JSON.stringify(params[prop])).replace("%20","+"));prop=null}if(data&&("string"==typeof data||data instanceof String||data instanceof Blob||data instanceof ArrayBuffer||data instanceof FormData||(data=JSON.stringify(data),null==headers?headers={"Content-Type":"application/json"}:headers["Content-Type"]||headers["content-type"]||headers["Content-type"]||headers["content-Type"]||(headers["Content-Type"]="application/json"))),xhr.open(method,url,!0),xhr.withCredentials=withCreds,null!==headers)for(prop in headers)headers.hasOwnProperty(prop)&&xhr.setRequestHeader(prop,headers[prop]);return rtnPromise=new Promise(function(resolve,reject){xhr.onreadystatechange=function(){4===this.readyState?this.status>=200&&this.status<300?resolve(this):reject({error:new Error("Request failed with status: "+this.status+", "+this.statusText),xhr:this}):3===this.readyState?"function"==typeof onprogress&&onprogress(this.responseText):2===this.readyState||1===this.readyState||0===this.readyState},xhr.addEventListener("abort",function(){console.log("Request to "+url+" aborted with status: "+this.status+", "+this.statusText)},!1),null!==data?xhr.send(data):xhr.send()})};Object.defineProperty(promiseRequest,"extraEncode",{configurable:!1,enumerable:!1,get:function(){return extraEncode}});var $__default=promiseRequest;return{get promiseRequest(){return promiseRequest},get default(){return $__default}}}),System.register("request/hound-request",[],function(){"use strict";var log=System.get("models/internal/debug-helpers").log,promiseRequest=System.get("request/promise-request").promiseRequest,extraEncode=promiseRequest.extraEncode,requestMap={},defaults={headers:{Accept:"application/json"},withCredentials:!1},responseThen=function(response){return response?null!=response.responseText&&""!==response.responseText?JSON.parse(response.responseText):null!=response.response&&"string"==typeof response.response&&""!==response.response?JSON.parse(response.response):response.status:response},houndRequest=function(args){if(!args)throw new TypeError("Arguments not specified for houndRequest","houndRequest.js",27);if("string"==typeof args.method&&/[a-z]/.test(args.method)&&(args.method=args.method.toUpperCase()),args.method&&"POST"===args.method&&(defaults.withCredentials=!0),args.endpoint&&(args.url="https://api.mediahound.com/"+args.endpoint,delete args.endpoint),args.headers){var prop;for(prop in defaults.headers)!defaults.headers.hasOwnProperty(prop)||prop in args.headers||(args.headers[prop]=defaults.headers[prop])}else args.headers=defaults.headers;return null==args.withCredentials&&(args.withCredentials=defaults.withCredentials),null==args.method||"GET"===args.method?requestMap.hasOwnProperty(args.url)?(log("request is in map: ",args.url),requestMap[args.url]):(requestMap[args.url]=promiseRequest(args).then(function(res){return delete requestMap[args.url],res},function(err){throw delete requestMap[args.url],err}).then(responseThen),requestMap[args.url]):(log("bypassing requestMap for POST: ",args.url),promiseRequest(args).then(responseThen))};Object.defineProperty(houndRequest,"extraEncode",{configurable:!1,enumerable:!1,get:function(){return extraEncode}});var $__default=houndRequest;return{get houndRequest(){return houndRequest},get default(){return $__default}}}),System.register("request/hound-paged-request",[],function(){"use strict";var houndRequest=System.get("request/hound-request").houndRequest,defaults={headers:{Accept:"application/json"},pageSize:10,startingPage:0,withCredentials:!1},getPageSize=function(args){return"number"==typeof args.pageSize?args.pageSize:null!=args.params&&"number"==typeof args.params["page.size"]?args.params["page.size"]:defaults.pageSize},getStartingPage=function(args){return"number"==typeof args.startingPage?args.startingPage:null!=args.params&&"number"==typeof args.params.page?args.params.page:defaults.startingPage},setContentForPage=function(pageNumber,pageSize,newContent){for(var i=0,length=newContent.length;length>i;i++)this.content[pageNumber*pageSize+i]=newContent[i]},setInfo=function(response){return this.firstPage=response.firstPage||response.first,this.lastPage=response.lastPage||response.last,this.page=response.number,this.totalPages=response.totalPages,this.numberOfElements=response.numberOfElements,this.totalElements=response.totalElements,response},setContentArray=function(response){var newContent,MHObject=System.get("models/base/MHObject").MHObject,self=this;return newContent=this._args.params.view&&"id"===this._args.params.view||"string"==typeof response.content[0]?Promise.all(MHObject.fetchByMhids(response.content)):Promise.resolve(MHObject.create(response.content)),newContent.then(function(mhObjs){return setContentForPage.call(self,response.number,response.size,mhObjs),response.content=mhObjs,response})},PagedRequest=function(args){if(null==args.method||null==args.endpoint)throw new TypeError("Method or Endpoint was not defined on pagedRequest argument map");var pageSize=getPageSize(args),startingPage=getStartingPage(args),myArgs=args;0>=pageSize&&(pageSize=defaults.pageSize),0>startingPage&&(startingPage=defaults.startingPage),myArgs.params=myArgs.params||{},myArgs.params["page.size"]=pageSize,myArgs.params.page=startingPage,delete myArgs.pageSize,delete myArgs.startingPage,this.content=[],this.pagePromises=[],this.page=startingPage,this._args=myArgs,this.pagePromises[this.page]=houndRequest(this._args).then(setInfo.bind(this)).then(setContentArray.bind(this)),Object.defineProperties(this,{pageSize:{configurable:!1,enumerable:!0,writeable:!1,value:pageSize}})};$traceurRuntime.createClass(PagedRequest,{get currentPromise(){return this.pagePromises[this.page]},next:function(){var self=this;return this.currentPromise.then(function(response){return self.lastPage?response:(self.page+=1,self._args.params.page=self.page,null==self.pagePromises[self.page]&&(self.pagePromises[self.page]=houndRequest(self._args).then(setInfo.bind(self)).then(setContentArray.bind(self))),self.pagePromises[self.page])})},prev:function(){var self=this;return this.currentPromise.then(function(response){return self.firstPage?response:(self.page-=1,self._args.params.page=self.page,null==self.pagePromises[self.page]&&(self.pagePromises[self.page]=houndRequest(self._args).then(setInfo.bind(self)).then(setContentArray.bind(self))),self.pagePromises[self.page])})},jumpTo:function(n){if(0>n&&(n=0),n>=this.totalPages&&(n=this.totalPages),null==this.pagePromises[n]){var self=this;return this.currentPromise.then(function(){return self.page=n,self._args.params.page=self.page,self.pagePromises[self.page]=houndRequest(self._args).then(setInfo.bind(self)).then(setContentArray.bind(self)),self.pagePromises[self.page]})}return this.page!==n?(this.page=n,this.pagePromises[this.page]):this.currentPromise}},{get extraEncode(){return houndRequest.extraEncode}});var pagedRequest=function(a){return new PagedRequest(a)};return{get pagedRequest(){return pagedRequest}}}),System.register("models/internal/MHCache",[],function(){"use strict";var log=System.get("models/internal/debug-helpers").log,keymapSym=Symbol("keymap"),MHCache=function(limit){this.size=0,this.limit=limit,this[keymapSym]={}};return $traceurRuntime.createClass(MHCache,{put:function(key,value,altId){var entry={key:key,value:value,altId:altId};return log("putting: ",entry),this[keymapSym][key]=entry,this.tail?(this.tail.newer=entry,entry.older=this.tail):this.head=entry,this.tail=entry,this.size===this.limit?this.shift():void this.size++},putMHObj:function(mhObj){return mhObj&&mhObj.mhid&&mhObj.username?this.put(mhObj.mhid,mhObj,mhObj.username):mhObj&&mhObj.mhid?this.put(mhObj.mhid,mhObj,mhObj.altId):void 0},shift:function(){var entry=this.head;return entry&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,entry.newer=entry.older=void 0,delete this[keymapSym][entry.key]),entry},get:function(key){var entry=this[keymapSym][key];if(void 0!==entry)return entry===this.tail?(log("getting from cache (is tail): ",entry),entry.value):(entry.newer&&(entry===this.head&&(this.head=entry.newer),entry.newer.older=entry.older),entry.older&&(entry.older.newer=entry.newer),entry.newer=void 0,entry.older=this.tail,this.tail&&(this.tail.newer=entry),this.tail=entry,log("getting from cache: ",entry),entry.value)},getByAltId:function(altId){for(var entry=this.tail;entry;){if(entry.altId===altId)return log("found altId "+altId+", getting from cache"),this.get(entry.key);entry=entry.older}},find:function(key){return this[keymapSym][key]},has:function(key){return void 0!==this[keymapSym][key]},hasAltId:function(altId){for(var entry=this.tail;entry;){if(entry.altId===altId)return!0;entry=entry.older}return!1},remove:function(key){var entry=this[keymapSym][key];if(entry)return delete this[keymapSym][entry.key],entry.newer&&entry.older?(entry.older.newer=entry.newer,entry.newer.older=entry.older):entry.newer?(entry.newer.older=void 0,this.head=entry.newer):entry.older?(entry.older.newer=void 0,this.tail=entry.older):this.head=this.tail=void 0,this.size--,entry.value
},removeAll:function(){this.head=this.tail=void 0,this.size=0,this[keymapSym]={}},keys:function(){return Object.keys(this[keymapSym])},forEach:function(callback){if("function"==typeof callback)for(var entry=this.head,index=0;entry;)callback(entry.value,index,this),index++,entry=entry.newer},saveToLocalStorage:function(){var storageKey=void 0!==arguments[0]?arguments[0]:"mhLocalCache",arr=[],entry=this.head,replacer=function(key,value){return/promise|request/gi.test(key)?void 0:value};for(log("saving to localStorage");entry;)log("adding to arry: ",JSON.stringify(entry.value,replacer)),arr.push(JSON.stringify(entry.value,replacer)),entry=entry.newer;log("adding to localStorage: ",JSON.stringify(arr)),localStorage[storageKey]=JSON.stringify(arr)},restoreFromLocalStorage:function(){var storageKey=void 0!==arguments[0]?arguments[0]:"mhLocalCache",MHObject=System.get("models/base/MHObject").MHObject;if(!localStorage||"undefined"==typeof localStorage[storageKey])return void log("nothing stored");for(var curr,i=0,stored=JSON.parse(localStorage[storageKey]);i<stored.length;i++)curr=MHObject.create(stored[i]),curr&&!this.has(curr.mhid)&&(log("adding to cache: ",curr),this.putMHObj(curr))}},{}),{get MHCache(){return MHCache}}}),System.register("models/social/MHSocial",[],function(){"use strict";var MHSocial=function(args){if("string"==typeof args||args instanceof String)try{args=JSON.parse(args)}catch(e){throw new TypeError("Args typeof string but not JSON in MHSocial","MHSocial.js",28)}for(var $__2,$__1=$MHSocial.members[Symbol.iterator]();!($__2=$__1.next()).done;){var prop=$__2.value,curr="undefined"==typeof args[prop]?null:args[prop];Object.defineProperty(this,prop,{configurable:!1,enumerable:!0,writable:!1,value:curr})}},$MHSocial=MHSocial;return $traceurRuntime.createClass(MHSocial,{isEqualToMHSocial:function(otherObj){for(var $__2,$__1=$MHSocial.members[Symbol.iterator]();!($__2=$__1.next()).done;){var prop=$__2.value;if(("number"!=typeof this[prop]||"number"!=typeof otherObj[prop]||this[prop]!==otherObj[prop])&&(this[prop]||otherObj[prop]))return!1}return!0},newWithAction:function(action){var newValue,toChange,alsoFlip,newArgs={};switch(action){case $MHSocial.LIKE:toChange="likers",newValue=this.likers+1,alsoFlip="userLikes";break;case $MHSocial.UNLIKE:toChange="likers",newValue=this.likers-1,alsoFlip="userLikes";break;case $MHSocial.DISLIKE:case $MHSocial.UNDISLIKE:alsoFlip="userDislikes";break;case $MHSocial.FOLLOW:toChange="followers",newValue=this.followers+1,alsoFlip="userFollows";break;case $MHSocial.UNFOLLOW:toChange="followers",newValue=this.followers-1,alsoFlip="userFollows";break;case $MHSocial.COLLECT:toChange="collectors",newValue=this.collectors+1}for(var $__2,$__1=$MHSocial.members[Symbol.iterator]();!($__2=$__1.next()).done;){var prop=$__2.value;newArgs[prop]=prop===toChange?newValue:prop===alsoFlip?!this[prop]:this[prop]}return new $MHSocial(newArgs)}},{get LIKE(){return"like"},get UNLIKE(){return"unlike"},get DISLIKE(){return"dislike"},get UNDISLIKE(){return"undislike"},get FOLLOW(){return"follow"},get UNFOLLOW(){return"unfollow"},get SOCIAL_ACTIONS(){return[$MHSocial.LIKE,$MHSocial.UNLIKE,$MHSocial.DISLIKE,$MHSocial.UNDISLIKE,$MHSocial.FOLLOW,$MHSocial.UNFOLLOW]},get POST(){return"post"},get COLLECT(){return"collect"},get COMMENT(){return"comment"},get members(){return["likers","followers","collectors","mentioners","following","ownedCollections","items","userLikes","userDislikes","userFollows"]}}),{get MHSocial(){return MHSocial}}}),System.register("models/base/MHObject",[],function(){"use strict";var $__0=System.get("models/internal/debug-helpers"),log=$__0.log,warn=$__0.warn,error=$__0.error,houndRequest=System.get("request/hound-request").houndRequest,pagedRequest=System.get("request/hound-paged-request").pagedRequest,MHCache=System.get("models/internal/MHCache").MHCache,MHSocial=System.get("models/social/MHSocial").MHSocial,childrenConstructors={},mhidLRU=new MHCache(1e3);"local.mediahound.com:2014"===window.location.host&&(window.mhidLRU=mhidLRU);var lastSocialRequestIdSym=Symbol("lastSocialRequestId"),socialSym=Symbol("social"),MHObject=function(args){if(args=$MHObject.parseArgs(args),"undefined"==typeof args.mhid||null===args.mhid)throw new TypeError("mhid is null or undefined","MHObject.js",89);var mhid=args.mhid,name=null!=args.name?args.name:null,altId=args.altId||null,primaryImage=null!=args.primaryImage?$MHObject.create(args.primaryImage):null,secondaryImage=null!=args.secondaryImage?$MHObject.create(args.secondaryImage):null,createdDate=new Date(args.createdDate);isNaN(createdDate)&&(createdDate=args.createdDate||null),Object.defineProperties(this,{mhid:{configurable:!1,enumerable:!0,writable:!1,value:mhid},name:{configurable:!1,enumerable:!0,writable:!1,value:name},altId:{configurable:!1,enumerable:!0,writable:!1,value:altId},primaryImage:{configurable:!1,enumerable:!0,writable:!1,value:primaryImage},secondaryImage:{configurable:!1,enumerable:!0,writable:!1,value:secondaryImage},createdDate:{configurable:!1,enumerable:!0,writable:!1,value:createdDate},feedPagedRequest:{configurable:!1,enumerable:!1,writable:!0,value:null}})},$MHObject=MHObject;return $traceurRuntime.createClass(MHObject,{get social(){return this[socialSym]||null},set social(newSocial){return newSocial instanceof MHSocial&&(this[socialSym]=newSocial),this.social},get isMedia(){return $MHObject.isMedia(this)},get isContributor(){return $MHObject.isContributor(this)},get isAction(){return $MHObject.isAction(this)},get isUser(){return $MHObject.isUser(this)},get isCollection(){return $MHObject.isCollection(this)},get isImage(){return $MHObject.isImage(this)},get isTrait(){return $MHObject.isTrait(this)},get className(){return this.constructor.name},isEqualToMHObject:function(otherObj){return otherObj&&otherObj.mhid?this.mhid===otherObj.mhid:!1},hasMhid:function(mhid){return"string"==typeof mhid||mhid instanceof String?this.mhid===mhid:!1},toString:function(){return this.className+" with mhid "+this.mhid+" and name "+this.name},get endpoint(){return this.constructor.rootEndpoint+"/"+this.mhid},subendpoint:function(sub){if("string"!=typeof sub&&!(sub instanceof String))throw new TypeError("Sub not of type string or undefined in (MHObject).subendpoint.");return this.endpoint+"/"+sub},fetchSocial:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__5=this,path=this.subendpoint("social");return!force&&this.social instanceof MHSocial?Promise.resolve(this.social):houndRequest({method:"GET",endpoint:path}).then(function(parsed){return $__5.social=new MHSocial(parsed)}.bind(this))},fetchFeed:function(){var view=void 0!==arguments[0]?arguments[0]:"full",page=void 0!==arguments[1]?arguments[1]:0,size=void 0!==arguments[2]?arguments[2]:12,force=void 0!==arguments[3]?arguments[3]:!1,path=this.subendpoint("feed");return force||null===this.feedPagedRequest||this.feedPagedRequest.numberOfElements!==size?this.feedPagedRequest=pagedRequest({method:"GET",endpoint:path,pageSize:size,startingPage:page,params:{view:view}}):this.feedPagedRequest.page!==page&&this.feedPagedRequest.jumpTo(page),this.feedPagedRequest},fetchFeedPage:function(){var view=void 0!==arguments[0]?arguments[0]:"full",page=void 0!==arguments[1]?arguments[1]:0,size=void 0!==arguments[2]?arguments[2]:12,force=void 0!==arguments[3]?arguments[3]:!1;return this.fetchFeed(view,page,size,force).currentPromise},takeAction:function(action){var $__5=this;if("string"!=typeof action&&!(action instanceof String))throw new TypeError("Action not of type String or undefined");if(!MHSocial.SOCIAL_ACTIONS.some(function(a){return action===a}))throw new TypeError("Action is not of an accepted type in mhObj.takeAction");log("in takeAction, action: "+action+", obj: "+this.toString());var path=this.subendpoint(action),requestId=Math.random(),original=this.social,self=this;return this.social instanceof MHSocial&&(this.social=this.social.newWithAction(action)),this[lastSocialRequestIdSym]=requestId,houndRequest({method:"POST",endpoint:path}).then(function(socialRes){var newSocial=new MHSocial(socialRes);return $__5[lastSocialRequestIdSym]===requestId&&(self.social=newSocial),newSocial}).catch(function(err){throw $__5[lastSocialRequestIdSym]===requestId&&(self.social=original),err})}},{parseArgs:function(args){var type=typeof args;if("object"===type&&!(args instanceof String)&&args.mhid)return args;if("string"===type||args instanceof String)try{return args=JSON.parse(args)}catch(e){throw error("JSON.parse failed at MHObject.parseArgs:170. Exception to follow."),e}if("undefined"===type||null===args)throw new TypeError("Args is undefined!","MHObject.js",176);if(args instanceof Array)throw new TypeError("MHObject arguments cannot be of type Array. Must be JSON String or Object of named parameters.","MHObject.js",180);if(args instanceof Error||args.Error||args.error)throw args.error||args.Error||args;throw new TypeError("Args was object without mhid!","MHObject.js",189)},create:function(args){if(args instanceof Array)return args.map(function(value){try{return $MHObject.create(value)}catch(e){return error(e),value}});try{if(args=$MHObject.parseArgs(args),"undefined"!=typeof args.mhid&&null!==args.mhid){if(mhidLRU.has(args.mhid))return log("getting from cache in create: "+args.mhid),mhidLRU.get(args.mhid);var prefix=$MHObject.getPrefixFromMhid(args.mhid),mhObj=new childrenConstructors[prefix](args);return mhObj}}catch(err){return err instanceof TypeError&&("undefined is not a function"===err.message&&warn("Unknown mhid prefix, see args object: ",args),"Args was object without mhid!"===err.message&&warn("Incomplete Object passed to create function: ",args)),null}return null},registerConstructor:function(mhClass){void 0===mhClass.name&&(mhClass.name=mhClass.toString().match(/function (MH[A-Za-z]*)\(args\)/)[1],log("shimmed mhClass.name to: "+mhClass.name)),log("registering constructor: "+mhClass.name);var prefix=mhClass.mhidPrefix;return"undefined"==typeof prefix||null===prefix||prefix in childrenConstructors?!1:(Object.defineProperty(childrenConstructors,prefix,{configurable:!1,enumerable:!0,writable:!1,value:mhClass}),!0)},get prefixes(){return Object.keys(childrenConstructors)},getPrefixFromMhid:function(mhid){for(var pfx in childrenConstructors)if(childrenConstructors.hasOwnProperty(pfx)&&new RegExp("^"+pfx).test(mhid))return pfx;return null},getClassNameFromMhid:function(mhid){var pfx=$MHObject.getPrefixFromMhid(mhid);return childrenConstructors[pfx]?childrenConstructors[pfx].name:null},get mhidPrefix(){return null},isMedia:function(toCheck){return toCheck instanceof System.get("models/media/MHMedia").MHMedia},isContributor:function(toCheck){return toCheck instanceof System.get("models/contributor/MHContributor").MHContributor},isAction:function(toCheck){return toCheck instanceof System.get("models/action/MHAction").MHAction},isUser:function(toCheck){return toCheck instanceof System.get("models/user/MHUser").MHUser},isCollection:function(toCheck){return toCheck instanceof System.get("models/collection/MHCollection").MHCollection},isImage:function(toCheck){return toCheck instanceof System.get("models/image/MHImage").MHImage},isTrait:function(toCheck){return toCheck instanceof System.get("models/trait/MHTrait").MHTrait},fetchByMhid:function(mhid){var force=void 0!==arguments[1]?arguments[1]:!1;if("string"!=typeof mhid&&!(mhid instanceof String))throw TypeError("MHObject.fetchByMhid argument must be type string.");if(log("in fetchByMhid, looking for: ",mhid),!force&&mhidLRU.has(mhid))return Promise.resolve(mhidLRU.get(mhid));if(!force&&mhidLRU.hasAltId(mhid))return Promise.resolve(mhidLRU.getByAltId(mhid));var newObj,prefix=$MHObject.getPrefixFromMhid(mhid),mhClass=childrenConstructors[prefix];if(null===prefix||"undefined"==typeof mhClass)throw warn("Error in MHObject.fetchByMhid",mhid,prefix,mhClass),Error("Could not find correct class, unknown mhid: "+mhid);return houndRequest({method:"GET",endpoint:mhClass.rootEndpoint+"/"+mhid}).then(function(response){return newObj=$MHObject.create(response),log("fetched: ",newObj),"mhimg"===prefix||mhidLRU.putMHObj(newObj),newObj})},fetchByMhids:function(mhids){if(mhids.map)return mhids.map($MHObject.fetchByMhid);if(mhids.length>0){var i,mhObjs=[];for(i=0;i<mhids.length;i++)mhObjs.push($MHObject.fetchByMhid(mhids[i]));return mhObjs}return warn("Reached fallback return statement in MHObject.fetchByMhids",mhids),mhids||null},get rootEndpoint(){return null},rootEndpointForMhid:function(mhid){if("string"!=typeof mhid&&!(mhid instanceof String))throw new TypeError("Mhid not of type string or undefined in rootEndpointForMhid");var prefix=$MHObject.getPrefixFromMhid(mhid),mhClass=childrenConstructors[prefix];if(null===prefix||"undefined"==typeof mhClass)throw warn("Error in MHObject.rootEndpointForMhid",mhid,prefix,mhClass),new Error("Could not find correct class, unknown mhid: "+mhid);return mhClass.rootEndpoint}}),{get mhidLRU(){return mhidLRU},get MHObject(){return MHObject}}}),System.register("models/action/MHAction",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,houndRequest=System.get("request/hound-request").houndRequest,MHAction=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHAction.prototype,"constructor",[args]);var message=args.message||null,primaryOwner=args.primaryOwner||null,primaryMention=args.primaryMention||null;Object.defineProperties(this,{message:{configurable:!1,enumerable:!0,writable:!1,value:message},primaryOwner:{configurable:!1,enumerable:!0,writable:!1,value:primaryOwner},primaryMention:{configurable:!1,enumerable:!0,writable:!1,value:primaryMention},ownersPromise:{configurable:!1,enumerable:!1,writable:!0,value:null},commentsPromise:{configurable:!1,enumerable:!1,writable:!0,value:null},mentionsPromise:{configurable:!1,enumerable:!1,writable:!0,value:null}})},$MHAction=MHAction;return $traceurRuntime.createClass(MHAction,{toString:function(){return $traceurRuntime.superCall(this,$MHAction.prototype,"toString",[])},commentWithMessage:function(message,mentions,primaryMention){if(!(message&&mentions&&"string"==typeof message&&Array.isArray(mentions)&&mentions.every(function(x){return x instanceof MHObject})))throw new TypeError("Can't create comment without message string, and mentions array.");for(var postBody,path=this.subendpoint("comment"),i=0,length=mentions.length,mentionedMhids=[];length>i;i++)mentionedMhids.push(mentions[i].mhid);return postBody={message:message,mentions:mentionedMhids},primaryMention&&primaryMention instanceof MHObject&&(postBody.primaryMention=primaryMention.mhid),houndRequest({method:"POST",endpoint:path,data:postBody}).then(function(res){return mentions.forEach(function(m){return m.fetchSocial(!0)}),res})},fetchOwners:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__2=this,path=this.subendpoint("owners");return(force||null===this.ownersPromise)&&(this.ownersPromise=houndRequest({method:"GET",endpoint:path}).catch(function(err){throw $__2.ownersPromise=null,err}.bind(this)).then(function(res){return Promise.all(res.map(function(m){return MHObject.fetchByMhid(m)}))})),this.ownersPromise},fetchComments:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__2=this,path=this.subendpoint("comments");return(force||null===this.commentsPromise)&&(this.commentsPromise=houndRequest({method:"GET",endpoint:path}).catch(function(err){throw $__2.commentsPromise=null,err}.bind(this)).then(function(res){return Promise.all(res.map(function(m){return MHObject.fetchByMhid(m)}))})),this.commentsPromise},fetchMentions:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__2=this,path=this.subendpoint("mentions");return(force||null===this.mentionsPromise)&&(this.mentionsPromise=houndRequest({method:"GET",endpoint:path}).catch(function(err){throw $__2.mentionsPromise=null,err}.bind(this)).then(function(res){return Promise.all(res.map(function(m){return MHObject.fetchByMhid(m)}))})),this.mentionsPromise}},{get rootEndpoint(){return"graph/action"}},MHObject),{get MHAction(){return MHAction}}}),System.register("models/action/MHAdd",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHAction=System.get("models/action/MHAction").MHAction,MHAdd=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHAdd.prototype,"constructor",[args])},$MHAdd=MHAdd;return $traceurRuntime.createClass(MHAdd,{toString:function(){return $traceurRuntime.superCall(this,$MHAdd.prototype,"toString",[])}},{get mhidPrefix(){return"mhadd"}},MHAction),function(){MHObject.registerConstructor(MHAdd)}(),{get MHAdd(){return MHAdd}}}),System.register("models/action/MHComment",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHAction=System.get("models/action/MHAction").MHAction,houndRequest=System.get("request/hound-request").houndRequest,MHComment=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHComment.prototype,"constructor",[args]),Object.defineProperties(this,{parentPromise:{configurable:!1,enumerable:!1,writable:!0,value:null}})},$MHComment=MHComment;return $traceurRuntime.createClass(MHComment,{toString:function(){return $traceurRuntime.superCall(this,$MHComment.prototype,"toString",[])},fetchParentAction:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__3=this,path=this.subendpoint("parent");return(force||null===this.parentPromise)&&(this.parentPromise=houndRequest({method:"GET",endpoint:path}).catch(function(err){throw $__3.parentPromise=null,err}.bind(this))),this.parentPromise}},{get mhidPrefix(){return"mhcmt"}},MHAction),function(){MHObject.registerConstructor(MHComment)}(),{get MHComment(){return MHComment}}}),System.register("models/action/MHCreate",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHAction=System.get("models/action/MHAction").MHAction,MHCreate=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHCreate.prototype,"constructor",[args])},$MHCreate=MHCreate;return $traceurRuntime.createClass(MHCreate,{toString:function(){return $traceurRuntime.superCall(this,$MHCreate.prototype,"toString",[])}},{get mhidPrefix(){return"mhcrt"}},MHAction),function(){MHObject.registerConstructor(MHCreate)}(),{get MHCreate(){return MHCreate}}}),System.register("models/action/MHFollow",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHAction=System.get("models/action/MHAction").MHAction,MHFollow=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHFollow.prototype,"constructor",[args])},$MHFollow=MHFollow;return $traceurRuntime.createClass(MHFollow,{toString:function(){return $traceurRuntime.superCall(this,$MHFollow.prototype,"toString",[])}},{get mhidPrefix(){return"mhflw"}},MHAction),function(){MHObject.registerConstructor(MHFollow)}(),{get MHFollow(){return MHFollow}}}),System.register("models/action/MHLike",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHAction=System.get("models/action/MHAction").MHAction,MHLike=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHLike.prototype,"constructor",[args])},$MHLike=MHLike;return $traceurRuntime.createClass(MHLike,{toString:function(){return $traceurRuntime.superCall(this,$MHLike.prototype,"toString",[])}},{get mhidPrefix(){return"mhlke"}},MHAction),function(){MHObject.registerConstructor(MHLike)}(),{get MHLike(){return MHLike}}}),System.register("models/action/MHPost",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHAction=System.get("models/action/MHAction").MHAction,houndRequest=System.get("request/hound-request").houndRequest,MHPost=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHPost.prototype,"constructor",[args])},$MHPost=MHPost;return $traceurRuntime.createClass(MHPost,{toString:function(){return $traceurRuntime.superCall(this,$MHPost.prototype,"toString",[])}},{get mhidPrefix(){return"mhpst"},createWithMessage:function(message,mentions,primaryMention){if(!(message&&mentions&&primaryMention&&"string"==typeof message&&Array.isArray(mentions)&&mentions.every(function(x){return x instanceof MHObject})&&primaryMention instanceof MHObject))throw new TypeError("Can't create post without message string, mentions array, and primary mention object.");var path=$MHPost.rootEndpoint+"/new",mentionedMhids=mentions.map(function(m){return m.mhid});return houndRequest({method:"POST",endpoint:path,data:{message:message,mentions:mentionedMhids,primaryMention:primaryMention.mhid}}).then(function(res){return mentions.forEach(function(m){return m.fetchSocial(!0)}),res})}},MHAction),function(){MHObject.registerConstructor(MHPost)}(),{get MHPost(){return MHPost}}}),System.register("models/base/MHEmbeddedObject",[],function(){"use strict";var MHEmbeddedObject=function(args){if(null==args)throw new TypeError("Args is null or undefined in MHEmbeddedObject constructor.");if("string"==typeof args||args instanceof String)try{args=JSON.parse(args)}catch(e){throw new TypeError("Args typeof string but not JSON in MHEmbeddedObject","MHEmbeddedObject.js",24)}if(null==args.mhid)throw new TypeError("mhid is null or undefined in MHEmbeddedObject constructor","MHEmbeddedObject.js",29);var mhid=args.mhid,name=null!=args.name?args.name:null;Object.defineProperties(this,{mhid:{configurable:!1,enumerable:!0,writable:!1,value:mhid},name:{configurable:!1,enumerable:!0,writable:!1,value:name}})},$MHEmbeddedObject=MHEmbeddedObject;return $traceurRuntime.createClass(MHEmbeddedObject,{},{createFromArray:function(arr){if(Array.isArray(arr))return arr.map(function(v){try{return new $MHEmbeddedObject(v)}catch(e){return v}});if(arr&&arr.length>0){for(var i=0,len=arr.length,newArry=[];len>i;i++)newArry.push(new $MHEmbeddedObject(arr[i]));return newArry}return arr}}),{get MHEmbeddedObject(){return MHEmbeddedObject}}}),System.register("models/base/MHEmbeddedRelation",[],function(){"use strict";var MHEmbeddedObject=System.get("models/base/MHEmbeddedObject").MHEmbeddedObject,MHEmbeddedRelation=function(args){if(null==args)throw new TypeError("Args is null or undefined in MHEmbeddedRelation constructor.");if("string"==typeof args||args instanceof String)try{args=JSON.parse(args)}catch(e){throw new TypeError("Args typeof string but not JSON in MHEmbeddedRelation","MHEmbeddedRelation.js",24)}$traceurRuntime.superCall(this,$MHEmbeddedRelation.prototype,"constructor",[args]);var position=args.position||null;Object.defineProperties(this,{position:{configurable:!1,enumerable:!0,writable:!1,value:position}})},$MHEmbeddedRelation=MHEmbeddedRelation;return $traceurRuntime.createClass(MHEmbeddedRelation,{},{createFromArray:function(arr){if(Array.isArray(arr))return arr.map(function(v){return new $MHEmbeddedRelation(v)});if(arr&&arr.length>0){for(var i=0,len=arr.length,newArry=[];len>i;i++)newArry.push(new $MHEmbeddedRelation(arr[i]));return newArry}return arr}},MHEmbeddedObject),{get MHEmbeddedRelation(){return MHEmbeddedRelation}}}),System.register("models/base/MHRelationalPair",[],function(){"use strict";var $__0=System.get("models/base/MHObject"),MHObject=$__0.MHObject,mhidLRU=$__0.mhidLRU,MHRelationalPair=function(args){if(null==args)throw new TypeError("Args is null or undefined in MHRelationalPair constructor.");if("string"==typeof args||args instanceof String)try{args=JSON.parse(args)}catch(e){throw new TypeError("Args typeof string but not valid JSON in MHRelationalPair","MHRelationalPair.js",15)}var position=args.position||null,object=mhidLRU.has(args.object.mhid)?mhidLRU.get(args.object.mhid):MHObject.create(args.object)||null;if(null==position||null==object)throw new TypeError("Either position or object was not defined in MHRelationalPair","MHRelationalPair.js",23);Object.defineProperties(this,{position:{configurable:!1,enumerable:!0,writable:!1,value:position},object:{configurable:!1,enumerable:!0,writable:!1,value:object}})},$MHRelationalPair=MHRelationalPair;return $traceurRuntime.createClass(MHRelationalPair,{toString:function(){return this.object.name+" at position "+this.position}},{createFromArray:function(arr){if(Array.isArray(arr))return arr.map(function(v){try{return new $MHRelationalPair(v)}catch(e){return v}});if(arr&&arr.length>0){for(var i=0,len=arr.length,newArry=[];len>i;i++)newArry.push(new $MHRelationalPair(arr[i]));return newArry}return arr}}),{get MHRelationalPair(){return MHRelationalPair}}}),System.register("models/user/MHUser",[],function(){"use strict";var log=System.get("models/internal/debug-helpers").log,$__1=System.get("models/base/MHObject"),MHObject=$__1.MHObject,mhidLRU=$__1.mhidLRU,houndRequest=System.get("request/hound-request").houndRequest,pagedRequest=System.get("request/hound-paged-request").pagedRequest,MHUser=function(args){if(args=MHObject.parseArgs(args),"undefined"==typeof args.username||null===args.username)throw new TypeError("Username is null or undefined","MHUser.js",39);$traceurRuntime.superCall(this,$MHUser.prototype,"constructor",[args]);var username=args.username,email=args.email||null,phonenumber=args.phonenumber||args.phoneNumber||null,firstname=args.firstname||args.firstName||null,lastname=args.lastname||args.lastName||null;Object.defineProperties(this,{username:{configurable:!1,enumerable:!0,writable:!1,value:username},email:{configurable:!1,enumerable:!0,writable:!1,value:email},phonenumber:{configurable:!1,enumerable:!0,writable:!1,value:phonenumber},firstName:{configurable:!1,enumerable:!0,writable:!1,value:firstname},lastName:{configurable:!1,enumerable:!0,writable:!1,value:lastname},interestFeedPromise:{configurable:!1,enumerable:!1,writable:!0,value:null},ownedCollectionsPromise:{configurable:!1,enumerable:!1,writable:!0,value:null},followedPromise:{configurable:!1,enumerable:!1,writable:!0,value:null},followedCollectionsPromise:{configurable:!1,enumerable:!1,writable:!0,value:null}})},$MHUser=MHUser;return $traceurRuntime.createClass(MHUser,{get isCurrentUser(){var currentUser=System.get("models/user/MHLoginSession").MHLoginSession.currentUser;return this.isEqualToMHObject(currentUser)},setProfileImage:function(image){if(log("in setProfileImage with image: ",image),!image)throw new TypeError("No Image passed to setProfileImage");if(!(image instanceof File))throw new TypeError("Image was not of type File");if(!this.isCurrentUser)throw function(){var NoMHSessionError=function(message){this.name="NoMHSessionError",this.message=message||""};return NoMHSessionError.prototype=Object.create(Error.prototype),NoMHSessionError.constructor=NoMHSessionError,new NoMHSessionError("No valid user session. Please log in to change profile picture")}();var path=$MHUser.rootEndpoint+"/uploadImage",form=new FormData;return form.append("data",image),houndRequest({method:"POST",endpoint:path,withCredentials:!0,data:form}).then(function(userWithImage){var MHLoginSession=System.get("models/user/MHLoginSession").MHLoginSession;return MHLoginSession.updatedProfileImage(MHObject.create(userWithImage)),userWithImage})},updateProfile:function(key,value){var data={};return data[key]=value,this.updateProfileData(data)},updateProfileData:function(updates){if(null==updates||"string"==typeof updates||Array.isArray(updates))throw new TypeError("Update profile data parameter must be of type object");var path=$MHUser.rootEndpoint+"/update";return houndRequest({method:"POST",endpoint:path,withCredentials:!0,data:updates}).catch(function(err){throw console.log("error on profile update: ",err),err})},fetchInterestFeed:function(){var view=void 0!==arguments[0]?arguments[0]:"full",page=void 0!==arguments[1]?arguments[1]:0,size=void 0!==arguments[2]?arguments[2]:12,force=void 0!==arguments[3]?arguments[3]:!1,path=this.subendpoint("interestFeed");return(force||null===this.interestFeedPromise)&&(this.interestFeedPromise=pagedRequest({method:"GET",endpoint:path,withCredentials:!0,startingPage:page,pageSize:size,params:{view:view}})),this.interestFeedPromise},fetchOwnedCollections:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__4=this,path=this.subendpoint("ownedCollections");return(force||null===this.ownedCollectionsPromise)&&(this.ownedCollectionsPromise=houndRequest({method:"GET",endpoint:path,withCredentials:!0}).catch(function(err){throw $__4.ownedCollectionsPromise=null,err}.bind(this))),this.ownedCollectionsPromise},fetchFollowed:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__4=this,path=this.subendpoint("following");return(force||null===this.followedPromise)&&(this.followedPromise=houndRequest({method:"GET",endpoint:path,withCredentials:!0}).catch(function(err){throw $__4.followedPromise=null,err}.bind(this))),this.followedPromise},fetchFollowedCollections:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__4=this,path=this.subendpoint("following");return(force||null===this.followedCollectionsPromise)&&(this.followedCollectionsPromise=houndRequest({method:"GET",endpoint:path,withCredentials:!0,params:{type:"collection"}}).catch(function(err){throw $__4.followedCollectionsPromise=null,err}.bind(this))),this.followedCollectionsPromise},toString:function(){return $traceurRuntime.superCall(this,$MHUser.prototype,"toString",[])+" and username "+this.username}},{get mhidPrefix(){return"mhusr"},get rootEndpoint(){return"graph/user"},registerNewUser:function(username,password,email,firstName,lastName,optional){var path=$MHUser.rootEndpoint+"/new",data=optional&&"object"==typeof optional&&!(optional instanceof Array||optional instanceof String)?optional:{},notString=function(obj){return"string"!=typeof obj&&!(obj instanceof String)};if(notString(username))throw new TypeError("Username not of type string in MHUser.registerNewUser");if(notString(password))throw new TypeError("Password not of type string in MHUser.registerNewUser");if(notString(email))throw new TypeError("Email not of type string in MHUser.registerNewUser");if(notString(firstName))throw new TypeError("First name not of type string in MHUser.registerNewUser");if(notString(lastName))throw new TypeError("Last name not of type string in MHUser.registerNewUser");return data.username=username,data.password=password,data.email=email,data.firstName=firstName,data.lastName=lastName,houndRequest({method:"POST",endpoint:path,data:data,withCredentials:!0,headers:{}}).then(function(parsed){return MHObject.fetchByMhid(parsed.mhid)})},validateUsername:function(username){if(!username||"string"!=typeof username&&!(username instanceof String))throw new TypeError("Username must be type string in MHUser.validateUsername");var path=$MHUser.rootEndpoint+"/validate/"+encodeURIComponent(username);return houndRequest({method:"GET",endpoint:path}).then(function(response){return 200===response}).catch(function(error){return 406===error.xhr.status?console.error("The username "+username+" is already taken."):(console.log("error in validate username: ",error.error.message),console.error(error.error.stack)),!1})},validateEmail:function(email){if(!email||"string"!=typeof email&&!(email instanceof String))throw new TypeError("Email must be type string in MHUser.validateEmail");var path=$MHUser.rootEndpoint+"/validate/email/"+encodeURIComponent(email);return houndRequest({method:"GET",endpoint:path}).then(function(response){return 200===response}).catch(function(error){return 406===error.xhr.status?console.error("The email "+email+" is already registered."):(console.log("error in validate username: ",error.error.message),console.error(error.error.stack)),!1})},fetchByUsername:function(username){var force=void 0!==arguments[1]?arguments[1]:!1;if(!username||"string"!=typeof username&&!(username instanceof String))throw new TypeError("Username not of type String in fetchByUsername");if(null!=MHObject.getPrefixFromMhid(username))throw new TypeError("Passed mhid to fetchByUsername, please use MHObject.fetchByMhid for this request.");if(log("in fetchByUsername, looking for: "+username),!force&&mhidLRU.hasAltId(username))return Promise.resolve(mhidLRU.getByAltId(username));
var newObj,path=$MHUser.rootEndpoint+"/lookup/"+username;return houndRequest({method:"GET",endpoint:path,withCredentials:!0}).then(function(response){return newObj=MHObject.create(response),mhidLRU.putMHObj(newObj),newObj})},fetchFeaturedUsers:function(){var path=$MHUser.rootEndpoint+"/featured";return houndRequest({method:"GET",endpoint:path}).then(function(response){return Promise.all(MHObject.fetchByMhids(response))})}},MHObject),function(){MHObject.registerConstructor(MHUser)}(),{get MHUser(){return MHUser}}}),System.register("models/user/MHLoginSession",[],function(){"use strict";var $__0=System.get("models/internal/debug-helpers"),log=$__0.log,warn=$__0.warn,error=$__0.error,$__1=System.get("models/base/MHObject"),MHObject=$__1.MHObject,mhidLRU=$__1.mhidLRU,MHUser=System.get("models/user/MHUser").MHUser,houndRequest=System.get("request/hound-request").houndRequest,makeEvent=function(name,options){var evt;options.bubbles=options.bubbles||!1,options.cancelable=options.cancelable||!1,options.detail=options.detail||void 0;try{evt=new CustomEvent(name,options)}catch(err){evt=document.createEvent("CustomEvent"),evt.initCustomEvent(name,options.bubbles,options.cancelable,options.detail)}return evt},MHUserLoginEvent=function(){};$traceurRuntime.createClass(MHUserLoginEvent,{},{create:function(mhUserObj){return makeEvent("mhUserLogin",{bubbles:!1,cancelable:!1,detail:{mhUser:mhUserObj}})}});var MHUserLogoutEvent=function(){};$traceurRuntime.createClass(MHUserLogoutEvent,{},{create:function(mhUserObj){return makeEvent("mhUserLogout",{bubbles:!1,cancelable:!1,detail:{mhUser:mhUserObj}})}});var MHSessionUserProfileImageChange=function(){};$traceurRuntime.createClass(MHSessionUserProfileImageChange,{},{create:function(mhUserObj){return makeEvent("mhSessionUserProfileImageChange",{bubbles:!1,cancelable:!1,detail:{mhUser:mhUserObj}})}});var loggedInUser=null,onboarded=!1,access=!1,count=null,MHLoginSession=function(){};return $traceurRuntime.createClass(MHLoginSession,{},{get currentUser(){return loggedInUser},get openSession(){return loggedInUser instanceof MHUser},get onboarded(){return onboarded},get access(){return access},get count(){return count},updateCount:function(){return houndRequest({method:"GET",endpoint:MHUser.rootEndpoint+"/count"}).then(function(res){return count=res.count,res}).catch(function(err){return warn("Error fetching user count"),error(err.error.stack),count})},updatedProfileImage:function(updatedUser){if(log("updatedUploadImage: ",updatedUser),!(updatedUser instanceof MHUser&&updatedUser.hasMhid(loggedInUser.mhid)))throw new TypeError("Updated Profile Image must be passed a new MHUser Object that equals the currently logged in user");return loggedInUser=updatedUser,loggedInUser.fetchSocial(),loggedInUser.fetchOwnedCollections(),window.dispatchEvent(MHSessionUserProfileImageChange.create(loggedInUser)),!0},completedOnboarding:function(){var path=MHUser.rootEndpoint+"/onboard";return houndRequest({method:"POST",endpoint:path,withCredentials:!0}).then(function(loginMap){return access=loginMap.access,onboarded=loginMap.onboarded,loginMap})},login:function(username,password){if("string"!=typeof username&&!(username instanceof String))throw new TypeError("Username not of type string in MHUser.login");if("string"!=typeof password&&!(password instanceof String))throw new TypeError("Password not of type string in MHUser.login");var path=MHUser.rootEndpoint+"/login",data={username:username,password:password};return houndRequest({method:"POST",endpoint:path,data:data,withCredentials:!0,headers:{}}).then(function(loginMap){return access=loginMap.access,onboarded=loginMap.onboarded,MHObject.fetchByMhid(loginMap.mhid)}).then(function(mhUserLoggedIn){return loggedInUser=mhUserLoggedIn,window.dispatchEvent(MHUserLoginEvent.create(loggedInUser)),loggedInUser}).catch(function(error){throw new Error("Problem during login: "+error.error.message,"MHLoginSession.js")})},logout:function(){var currentCookies=document.cookie.split("; ").map(function(c){var keyVal=c.split("=");return{key:keyVal[0],value:keyVal[1]}});return currentCookies.forEach(function(cookie){if("JSESSIONID"===cookie.key){var expires=new Date(0).toGMTString();document.cookie=cookie.key+"="+cookie.value+"; expires="+expires+"; domain=.mediahound.com"}}),window.dispatchEvent(MHUserLogoutEvent.create(loggedInUser)),mhidLRU.removeAll(),Promise.resolve(loggedInUser).then(function(mhUser){return loggedInUser=null,access=!1,onboarded=!1,mhUser})},validateOpenSession:function(){var path=MHUser.rootEndpoint+"/validateSession";return houndRequest({method:"POST",endpoint:path,withCredentials:!0}).then(function(loginMap){return access=loginMap.access,onboarded=loginMap.onboarded,MHObject.fetchByMhid(loginMap.mhid)}).then(function(mhUserLoggedIn){return loggedInUser=mhUserLoggedIn,window.dispatchEvent(MHUserLoginEvent.create(loggedInUser)),loggedInUser}).catch(function(error){return 401===error.xhr.status&&console.log("No open MediaHound session"),error})}}),MHLoginSession.updateCount(),{get MHLoginSession(){return MHLoginSession}}}),System.register("models/collection/MHCollection",[],function(){"use strict";var log=System.get("models/internal/debug-helpers").log,MHObject=System.get("models/base/MHObject").MHObject,MHLoginSession=System.get("models/user/MHLoginSession").MHLoginSession,houndRequest=System.get("request/hound-request").houndRequest,MHCollection=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHCollection.prototype,"constructor",[args]);var mixlist="string"==typeof args.mixlist?args.mixlist.toLowerCase():null,firstContentImage=null!=args.firstContentImage?MHObject.create(args.firstContentImage):null,description=args.description||null;switch(mixlist){case"none":mixlist=$MHCollection.MIXLIST_TYPE_NONE;break;case"partial":mixlist=$MHCollection.MIXLIST_TYPE_PARTIAL;break;case"full":mixlist=$MHCollection.MIXLIST_TYPE_FULL;break;default:mixlist=$MHCollection.MIXLIST_TYPE_NONE}Object.defineProperties(this,{mixlist:{configurable:!1,enumerable:!0,writable:!1,value:mixlist},firstContentImage:{configurable:!1,enumerable:!0,writable:!1,value:firstContentImage},description:{configurable:!1,enumerable:!0,writable:!1,value:description},ownersPromise:{configurable:!1,enumerable:!0,writable:!0,value:null},contentPromise:{configurable:!1,enumerable:!0,writable:!0,value:null},mixlistPromise:{configurable:!1,enumerable:!0,writable:!0,value:null}})},$MHCollection=MHCollection;return $traceurRuntime.createClass(MHCollection,{get mixlistTypeString(){switch(this.mixlist){case $MHCollection.MIXLIST_TYPE_NONE:return"none";case $MHCollection.MIXLIST_TYPE_PARTIAL:return"partial";case $MHCollection.MIXLIST_TYPE_FULL:return"full";default:return"none"}},toString:function(){return $traceurRuntime.superCall(this,$MHCollection.prototype,"toString",[])+" and description "+this.description},addContent:function(content){return this.addContents([content])},addContents:function(contents){return this.changeContents(contents,"add")},removeContent:function(content){return this.removeContents([content])},removeContents:function(contents){return this.changeContents(contents,"remove")},changeContents:function(contents,sub){var $__4=this;if(!Array.isArray(contents))throw new TypeError("Contents must be an array in changeContents");if("string"!=typeof sub||"add"!==sub&&"remove"!==sub)throw new TypeError("Subendpoint must be add or remove");var path=this.subendpoint(sub),mhids=contents.map(function(v){return v instanceof MHObject?v.mhid:"string"==typeof v&&MHObject.prefixes.indexOf(MHObject.getPrefixFromMhid(v))>-1?v:null}).filter(function(v){return null!==v});return this.mixlistPromise=null,log("content array to be submitted: ",mhids),this.contentPromise=houndRequest({method:"POST",endpoint:path,data:{content:mhids}}).catch(function(err){throw $__4.contentPromise=null,err}.bind(this)).then(function(response){return contents.forEach(function(v){return"function"==typeof v.fetchSocial&&v.fetchSocial(!0)}),response})},fetchOwners:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__4=this,path=this.subendpoint("owners");return(force||null===this.ownersPromise)&&(this.ownersPromise=houndRequest({method:"GET",endpoint:path}).catch(function(err){throw $__4.ownersPromise=null,err}.bind(this))),this.ownersPromise},fetchContent:function(){var view=void 0!==arguments[0]?arguments[0]:"ids",force=void 0!==arguments[1]?arguments[1]:!1,$__4=this,path=this.subendpoint("content");return(force||null===this.contentPromise)&&(this.contentPromise=houndRequest({method:"GET",endpoint:path,params:{view:view}}).catch(function(err){throw $__4.contentPromise=null,err}.bind(this)).then(function(res){return"full"===view&&Array.isArray(res)&&(res=MHObject.create(res),log("fetched content of collection: ",res)),res})),this.contentPromise.then(function(res){return"full"===view&&Array.isArray(res)&&"string"==typeof res[0]?Promise.all(MHObject.fetchByMhids(res)):"ids"===view&&Array.isArray(res)&&res[0]instanceof MHObject?res.map(function(obj){return obj.mhid}):res})},fetchMixlist:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__4=this,path=this.subendpoint("mixlist");return(force||null===this.mixlistPromise)&&(this.mixlistPromise=houndRequest({method:"GET",endpoint:path}).catch(function(err){throw $__4.mixlistPromise=null,err}.bind(this))),this.mixlistPromise}},{get MIXLIST_TYPE_NONE(){return 0},get MIXLIST_TYPE_PARTIAL(){return 1},get MIXLIST_TYPE_FULL(){return 2},get mhidPrefix(){return"mhcol"},get rootEndpoint(){return"graph/collection"},createWithName:function(name){var path=$MHCollection.rootEndpoint+"/new";return houndRequest({method:"POST",endpoint:path,data:{name:name}}).then(function(response){return MHObject.fetchByMhid(response.mhid)}).then(function(newCollection){return MHLoginSession.openSession&&MHLoginSession.currentUser.fetchOwnedCollections(!0),newCollection})},fetchFeaturedCollections:function(){var path=$MHCollection.rootEndpoint+"/featured";return houndRequest({method:"GET",endpoint:path}).then(function(res){return Promise.all(MHObject.fetchByMhids(res))})}},MHObject),function(){MHObject.registerConstructor(MHCollection)}(),{get MHCollection(){return MHCollection}}}),System.register("models/contributor/MHContributor",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,houndRequest=System.get("request/hound-request").houndRequest,MHContributor=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHContributor.prototype,"constructor",[args]),Object.defineProperties(this,{mediaPromise:{configurable:!1,enumerable:!1,writable:!0,value:null},collectionsPromise:{configurable:!1,enumerable:!1,writable:!0,value:null}})},$MHContributor=MHContributor;return $traceurRuntime.createClass(MHContributor,{get isGroup(){return!this.isIndividual},get isFictional(){return!this.isReal},toString:function(){return $traceurRuntime.superCall(this,$MHContributor.prototype,"toString",[])},fetchMedia:function(){var view=void 0!==arguments[0]?arguments[0]:"ids",force=void 0!==arguments[1]?arguments[1]:!1,$__2=this,path=this.subendpoint("media");return(force||null===this.mediaPromise)&&(this.mediaPromise=houndRequest({method:"GET",endpoint:path,params:{view:view}}).catch(function(err){throw $__2.mediaPromise=null,err}.bind(this)).then(function(parsed){return"full"===view&&Array.isArray(parsed)&&(parsed=MHObject.create(parsed)),parsed})),this.mediaPromise},fetchCollections:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__2=this,path=this.subendpoint("collections");return(force||null===this.collectionsPromise)&&(this.collectionsPromise=houndRequest({method:"GET",endpoint:path}).catch(function(err){throw $__2.collectionsPromise=null,err}.bind(this)).then(function(ids){return Promise.all(ids.map(function(v){return MHObject.fetchByMhid(v)}))})),this.collectionsPromise}},{get rootEndpoint(){return this.prototype.isFictional&&null!=this.prototype.isReal?"graph/character":"graph/contributor"}},MHObject),{get MHContributor(){return MHContributor}}}),System.register("models/contributor/MHFictionalGroupContributor",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHContributor=System.get("models/contributor/MHContributor").MHContributor,houndRequest=System.get("request/hound-request").houndRequest,MHFictionalGroupContributor=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHFictionalGroupContributor.prototype,"constructor",[args]),Object.defineProperties(this,{contributorsPromise:{configurable:!1,enumerable:!1,writable:!0,value:null}})},$MHFictionalGroupContributor=MHFictionalGroupContributor;return $traceurRuntime.createClass(MHFictionalGroupContributor,{get isIndividual(){return!1},get isReal(){return!1},toString:function(){return $traceurRuntime.superCall(this,$MHFictionalGroupContributor.prototype,"toString",[])},fetchContributors:function(){var view=void 0!==arguments[0]?arguments[0]:"ids",force=void 0!==arguments[1]?arguments[1]:!1,$__3=this,path=this.subendpoint("contributors");return(force||null===this.contributorsPromise)&&(this.contributorsPromise=houndRequest({method:"GET",endpoint:path,params:{view:view}}).catch(function(err){throw $__3.contributorsPromise=null,err}.bind(this)).then(function(parsed){return"full"===view&&Array.isArray(parsed)&&(parsed=MHObject.create(parsed)),parsed})),this.contributorsPromise}},{get mhidPrefix(){return"mhfgc"}},MHContributor),function(){MHObject.registerConstructor(MHFictionalGroupContributor)}(),{get MHFictionalGroupContributor(){return MHFictionalGroupContributor}}}),System.register("models/contributor/MHFictionalIndividualContributor",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHContributor=System.get("models/contributor/MHContributor").MHContributor,houndRequest=System.get("request/hound-request").houndRequest,MHFictionalIndividualContributor=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHFictionalIndividualContributor.prototype,"constructor",[args]),Object.defineProperties(this,{contributorsPromise:{configurable:!1,enumerable:!1,writable:!0,value:null}})},$MHFictionalIndividualContributor=MHFictionalIndividualContributor;return $traceurRuntime.createClass(MHFictionalIndividualContributor,{get isIndividual(){return!0},get isReal(){return!1},toString:function(){return $traceurRuntime.superCall(this,$MHFictionalIndividualContributor.prototype,"toString",[])},fetchContributors:function(){var view=void 0!==arguments[0]?arguments[0]:"ids",force=void 0!==arguments[1]?arguments[1]:!1,$__3=this,path=this.subendpoint("contributors");return(force||null===this.contributorsPromise)&&(this.contributorsPromise=houndRequest({method:"GET",endpoint:path,params:{view:view}}).catch(function(err){throw $__3.contributorsPromise=null,err}.bind(this)).then(function(parsed){return"full"===view&&Array.isArray(parsed)&&(parsed=MHObject.create(parsed)),parsed})),this.contributorsPromise}},{get mhidPrefix(){return"mhfic"}},MHContributor),function(){MHObject.registerConstructor(MHFictionalIndividualContributor)}(),{get MHFictionalIndividualContributor(){return MHFictionalIndividualContributor}}}),System.register("models/contributor/MHRealGroupContributor",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHContributor=System.get("models/contributor/MHContributor").MHContributor,houndRequest=System.get("request/hound-request").houndRequest,MHRealGroupContributor=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHRealGroupContributor.prototype,"constructor",[args]),Object.defineProperties(this,{charactersPromise:{configurable:!1,enumerable:!1,writable:!0,value:null}})},$MHRealGroupContributor=MHRealGroupContributor;return $traceurRuntime.createClass(MHRealGroupContributor,{get isIndividual(){return!1},get isReal(){return!0},toString:function(){return $traceurRuntime.superCall(this,$MHRealGroupContributor.prototype,"toString",[])},fetchCharacters:function(){var view=void 0!==arguments[0]?arguments[0]:"ids",force=void 0!==arguments[1]?arguments[1]:!1,$__3=this,path=this.subendpoint("characters");return(force||null===this.charactersPromise)&&(this.charactersPromise=houndRequest({method:"GET",endpoint:path,params:{view:view}}).catch(function(err){throw $__3.charactersPromise=null,err}.bind(this)).then(function(parsed){return"full"===view&&Array.isArray(parsed)&&(parsed=MHObject.create(parsed)),parsed})),this.charactersPromise}},{get mhidPrefix(){return"mhrgc"}},MHContributor),function(){MHObject.registerConstructor(MHRealGroupContributor)}(),{get MHRealGroupContributor(){return MHRealGroupContributor}}}),System.register("models/contributor/MHRealIndividualContributor",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHContributor=System.get("models/contributor/MHContributor").MHContributor,houndRequest=System.get("request/hound-request").houndRequest,MHRealIndividualContributor=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHRealIndividualContributor.prototype,"constructor",[args]),Object.defineProperties(this,{charactersPromise:{configurable:!1,enumerable:!1,writable:!0,value:null}})},$MHRealIndividualContributor=MHRealIndividualContributor;return $traceurRuntime.createClass(MHRealIndividualContributor,{get isIndividual(){return!0},get isReal(){return!0},toString:function(){return $traceurRuntime.superCall(this,$MHRealIndividualContributor.prototype,"toString",[])},fetchCharacters:function(){var view=void 0!==arguments[0]?arguments[0]:"ids",force=void 0!==arguments[1]?arguments[1]:!1,$__3=this,path=this.subendpoint("characters");return(force||null===this.charactersPromise)&&(this.charactersPromise=houndRequest({method:"GET",endpoint:path,params:{view:view}}).catch(function(err){throw $__3.charactersPromise=null,err}.bind(this)).then(function(parsed){return"full"===view&&Array.isArray(parsed)&&(parsed=MHObject.create(parsed)),parsed})),this.charactersPromise}},{get mhidPrefix(){return"mhric"}},MHContributor),function(){MHObject.registerConstructor(MHRealIndividualContributor)}(),{get MHRealIndividualContributor(){return MHRealIndividualContributor}}}),System.register("models/image/MHImage",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHImage=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHImage.prototype,"constructor",[args]);var url="string"==typeof args.url?args.url.replace(/^http:|^https:/i,""):null,width=args.width||null,height=args.height||null,isDefault="boolean"==typeof args.isDefault?args.isDefault:null;Object.defineProperties(this,{url:{configurable:!1,enumerable:!0,writable:!1,value:url},isDefault:{configurable:!1,enumerable:!0,writable:!1,value:isDefault},width:{configurable:!1,enumerable:!0,writable:!1,value:width},height:{configurable:!1,enumerable:!0,writable:!1,value:height}})},$MHImage=MHImage;return $traceurRuntime.createClass(MHImage,{},{get mhidPrefix(){return"mhimg"},get rootEndpoint(){return"graph/image"}},MHObject),function(){MHObject.registerConstructor(MHImage)}(),{get MHImage(){return MHImage}}}),System.register("models/source/MHSourceFormat",[],function(){"use strict";var MHSourceFormat=function(args){var method=void 0!==arguments[1]?arguments[1]:null;if("string"==typeof args||args instanceof String)try{args=JSON.parse(args)}catch(e){throw new TypeError("Args typeof string but not JSON in MHSourceFormat","MHSourceFormat.js",28)}var type=args.type||null,price=args.price||null,launchInfo=args.launchInfo||null,timeperiod=args.timeperiod||null,subscriptionDescription=args.subscriptionDescription||null;if(null===type||null===price||null===launchInfo)throw console.error(type,price,launchInfo),new TypeError("Required info not defined on argument map in MHSourceFormat","MHSourceFormat.js",41);Object.defineProperties(this,{type:{configurable:!1,enumerable:!0,writable:!1,value:type},price:{configurable:!1,enumerable:!0,writable:!1,value:price},launchInfo:{configurable:!1,enumerable:!0,writable:!1,value:launchInfo},timeperiod:{configurable:!1,enumerable:!0,writable:!1,value:timeperiod},subscriptionDescription:{configurable:!1,enumerable:!0,writable:!1,value:subscriptionDescription},method:{configurable:!1,enumerable:!0,writable:!1,value:method}})};return $traceurRuntime.createClass(MHSourceFormat,{get displayPrice(){return"$"+this.price}},{}),{get MHSourceFormat(){return MHSourceFormat}}}),System.register("models/source/MHSourceMethod",[],function(){"use strict";var MHSourceFormat=System.get("models/source/MHSourceFormat").MHSourceFormat,MHSourceMethod=function(args){var medium=void 0!==arguments[1]?arguments[1]:null,$__1=this;if("string"==typeof args||args instanceof String)try{args=JSON.parse(args)}catch(e){throw new TypeError("Args typeof string but not JSON in MHSourceMethod","MHSourceMethod.js",28)}var type=args.type||null,formats=args.formats||null;if(null===type||null===formats)throw new TypeError("Type or formats not defined on args array in MHSourceMethod","MHSourceMethod.js",41);formats=formats.map(function(v){return new MHSourceFormat(v,$__1)}),Object.defineProperties(this,{type:{configurable:!1,enumerable:!0,writable:!1,value:type},formats:{configurable:!1,enumerable:!0,writable:!1,value:formats},medium:{configurable:!1,enumerable:!0,writable:!1,value:medium}})};return $traceurRuntime.createClass(MHSourceMethod,{},{get TYPES(){return["purchase","rental","subscription","adSupported"]}}),{get MHSourceMethod(){return MHSourceMethod}}}),System.register("models/source/MHSourceMedium",[],function(){"use strict";var MHSourceMethod=System.get("models/source/MHSourceMethod").MHSourceMethod,MHSourceMedium=function(args){var source=void 0!==arguments[1]?arguments[1]:null,$__1=this;if("string"==typeof args||args instanceof String)try{args=JSON.parse(args)}catch(e){throw new TypeError("Args typeof string but not JSON in MHSourceMedium","MHSourceMedium.js",28)}var type=args.type||null,methods=args.methods||null;if(null===type||null===methods)throw new TypeError("Type or methods not defined on args in MHSourceMedium");methods=methods.map(function(v){return new MHSourceMethod(v,$__1)}),Object.defineProperties(this,{type:{configurable:!1,enumerable:!0,writable:!1,value:type},methods:{configurable:!1,enumerable:!0,writable:!1,value:methods},source:{configurable:!1,enumerable:!0,writable:!1,value:source}})};return $traceurRuntime.createClass(MHSourceMedium,{},{get TYPES(){return["stream","download","deliver","pickup","attend"]}}),{get MHSourceMedium(){return MHSourceMedium}}}),System.register("models/source/MHSourceModel",[],function(){"use strict";var MHSourceMedium=System.get("models/source/MHSourceMedium").MHSourceMedium,MHSourceModel=function(args){var content=void 0!==arguments[1]?arguments[1]:null,$__1=this;if("string"==typeof args||args instanceof String)try{args=JSON.parse(args)}catch(e){throw new TypeError("Args typeof string but not JSON in MHSourceModel","MHSourceModel.js",28)}var name=args.name||null,logo=args.logo||null,mediums=args.mediums||null,consumable="boolean"==typeof args.consumable?args.consumable:null;if(null===name||null===consumable||null===mediums)throw console.warn("errored args: ",args),new TypeError("Name, consumable, or mediums null in args in MHSourceModel");"string"==typeof logo.url&&(logo.url=logo.url.replace(/http:|https:/gi,"")),mediums=mediums.map(function(v){return new MHSourceMedium(v,$__1)}),Object.defineProperties(this,{name:{configurable:!1,enumerable:!0,writable:!1,value:name},consumable:{configurable:!1,enumerable:!0,writable:!1,value:consumable},mediums:{configurable:!1,enumerable:!0,writable:!1,value:mediums},logo:{configurable:!1,enumerable:!0,writable:!1,value:logo},content:{configurable:!1,enumerable:!0,writable:!1,value:content}})};return $traceurRuntime.createClass(MHSourceModel,{getAllFormats:function(){var allFormats=[];return this.mediums.forEach(function(medium){medium.methods.forEach(function(method){allFormats=allFormats.concat(method.formats)})}),allFormats}},{}),{get MHSourceModel(){return MHSourceModel}}}),System.register("models/media/MHMedia",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHSourceModel=System.get("models/source/MHSourceModel").MHSourceModel,MHEmbeddedObject=System.get("models/base/MHEmbeddedObject").MHEmbeddedObject,MHRelationalPair=System.get("models/base/MHRelationalPair").MHRelationalPair,houndRequest=System.get("request/hound-request").houndRequest,MHMedia=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHMedia.prototype,"constructor",[args]);var releaseDate=new Date(args.releaseDate),suitabilityRating=args.suitabilityRating||null,length=args.length||null,primaryGroup=args.primaryGroup||null,keyContributors=args.keyContributors?MHEmbeddedObject.createFromArray(args.keyContributors):null;isNaN(releaseDate)&&(releaseDate=args.releaseDate||null),Object.defineProperties(this,{releaseDate:{configurable:!1,enumerable:!0,writable:!1,value:releaseDate},suitabilityRating:{configurable:!1,enumerable:!0,writable:!1,value:suitabilityRating},length:{configurable:!1,enumerable:!0,writable:!1,value:length},keyContributors:{configurable:!1,enumerable:!0,writable:!1,value:keyContributors},primaryGroup:{configurable:!1,enumerable:!0,writable:!1,value:primaryGroup},collectionsPromise:{configurable:!1,enumerable:!1,writable:!0,value:null},contentPromise:{configurable:!1,enumerable:!1,writable:!0,value:null},sourcesPromise:{configurable:!1,enumerable:!1,writable:!0,value:null},contributorsPromise:{configurable:!1,enumerable:!1,writable:!0,value:null},charactersPromise:{configurable:!1,enumerable:!1,writable:!0,value:null},traitsPromise:{configurable:!1,enumerable:!1,writable:!0,value:null}})},$MHMedia=MHMedia;return $traceurRuntime.createClass(MHMedia,{toString:function(){return $traceurRuntime.superCall(this,$MHMedia.prototype,"toString",[])+" and releaseDate "+this.releaseDate},fetchCollections:function(){var force=void 0!==arguments[0]?arguments[0]:!1,$__5=this,path=this.subendpoint("collections");return(force||null===this.collectionsPromise)&&(this.collectionsPromise=houndRequest({method:"GET",endpoint:path}).catch(function(err){throw $__5.collectionsPromise=null,err}.bind(this))),this.collectionsPromise},fetchContent:function(){var view=void 0!==arguments[0]?arguments[0]:"ids",force=void 0!==arguments[1]?arguments[1]:!1,path=this.subendpoint("content"),self=this;return(force||null===this.contentPromise)&&(this.contentPromise=houndRequest({method:"GET",endpoint:path,params:{view:view}}).catch(function(err){throw self.contentPromise=null,err}).then(function(parsed){return"full"===view&&Array.isArray(parsed)&&(parsed=MHRelationalPair.createFromArray(parsed).sort(function(a,b){return a.position-b.position})),parsed})),this.contentPromise.then(function(res){return"full"===view&&Array.isArray(res)&&"string"==typeof res[0]?self.fetchContent(view,!0):"ids"===view&&Array.isArray(res)&&res[0].object instanceof MHObject?res.map(function(pair){return pair.object.mhid}):res})},fetchSources:function(){var force=void 0!==arguments[0]?arguments[0]:!1,self=this,path=this.subendpoint("sources");return(force||null===this.sourcesPromise)&&(this.sourcesPromise=houndRequest({method:"GET",endpoint:path}).catch(function(err){throw self.sourcesPromise=null,err}).then(function(parsed){return parsed.map(function(v){return new MHSourceModel(v,self)})})),this.sourcesPromise},fetchAvailableSources:function(){return this.fetchSources()},fetchDesiredSource:function(){return this.fetchAvailableSources()},fetchContributors:function(){var view=void 0!==arguments[0]?arguments[0]:"ids",force=void 0!==arguments[1]?arguments[1]:!1,$__5=this,path=this.subendpoint("contributors");return(force||null===this.contributorsPromise)&&(this.contributorsPromise=houndRequest({method:"GET",endpoint:path,params:{view:view}}).catch(function(err){throw $__5.contributorsPromise=null,err}.bind(this)).then(function(parsed){return"full"===view&&Array.isArray(parsed)&&(parsed=MHObject.create(parsed)),parsed})),this.contributorsPromise.then(function(res){return"full"===view&&Array.isArray(res)&&"string"==typeof res[0]?Promise.all(MHObject.fetchByMhids(res)):"ids"===view&&Array.isArray(res)&&typeof res[0]instanceof MHObject?res.map(function(obj){return obj.mhid}):res})},fetchCharacters:function(){var view=void 0!==arguments[0]?arguments[0]:"ids",excludeMinors=void 0!==arguments[1]?arguments[1]:!1,force=void 0!==arguments[2]?arguments[2]:!1,$__5=this,path=this.subendpoint("contributors");return(force||null===this.charactersPromise)&&(this.charactersPromise=houndRequest({method:"GET",endpoint:path,params:{view:view,excludeMinors:excludeMinors}}).catch(function(err){throw $__5.charactersPromise=null,err}.bind(this)).then(function(parsed){return"full"===view&&Array.isArray(parsed)&&(parsed=MHObject.create(parsed)),parsed})),this.charactersPromise.then(function(res){return"full"===view&&Array.isArray(res)&&"string"==typeof res[0]?Promise.all(MHObject.fetchByMhids(res)):"ids"===view&&Array.isArray(res)&&typeof res[0]instanceof MHObject?res.map(function(obj){return obj.mhid}):res})},fetchTraits:function(){var view=void 0!==arguments[0]?arguments[0]:"ids",force=void 0!==arguments[1]?arguments[1]:!1,$__5=this,path=this.subendpoint("traits");return(force||null===this.traitsPromise)&&(this.traitsPromise=houndRequest({method:"GET",endpoint:path,params:{view:view}}).catch(function(err){throw $__5.traitsPromise=null,err}.bind(this)).then(function(parsed){return"full"===view&&Array.isArray(parsed)&&(parsed=MHObject.create(parsed)),parsed})),this.traitsPromise.then(function(res){return"full"===view&&Array.isArray(res)&&"string"==typeof res[0]?Promise.all(MHObject.fetchByMhids(res)):"ids"===view&&Array.isArray(res)&&res[0]instanceof MHObject?res.map(function(obj){return obj.mhid}):res})}},{get rootEndpoint(){return"graph/media"}},MHObject),{get MHMedia(){return MHMedia}}}),System.register("models/media/MHAlbum",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHAlbum=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHAlbum.prototype,"constructor",[args])},$MHAlbum=MHAlbum;return $traceurRuntime.createClass(MHAlbum,{toString:function(){return $traceurRuntime.superCall(this,$MHAlbum.prototype,"toString",[])}},{get mhidPrefix(){return"mhalb"}},MHMedia),function(){MHObject.registerConstructor(MHAlbum)}(),{get MHAlbum(){return MHAlbum}}}),System.register("models/media/MHAlbumSeries",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHAlbumSeries=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHAlbumSeries.prototype,"constructor",[args])},$MHAlbumSeries=MHAlbumSeries;return $traceurRuntime.createClass(MHAlbumSeries,{toString:function(){return $traceurRuntime.superCall(this,$MHAlbumSeries.prototype,"toString",[])}},{get mhidPrefix(){return"mhals"}},MHMedia),function(){MHObject.registerConstructor(MHAlbumSeries)}(),{get MHAlbumSeries(){return MHAlbumSeries}}}),System.register("models/media/MHAnthology",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHAnthology=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHAnthology.prototype,"constructor",[args])},$MHAnthology=MHAnthology;return $traceurRuntime.createClass(MHAnthology,{toString:function(){return $traceurRuntime.superCall(this,$MHAnthology.prototype,"toString",[])}},{get mhidPrefix(){return"mhath"}},MHMedia),function(){MHObject.registerConstructor(MHAnthology)}(),{get MHAnthology(){return MHAnthology}}}),System.register("models/media/MHBook",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHBook=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHBook.prototype,"constructor",[args])
},$MHBook=MHBook;return $traceurRuntime.createClass(MHBook,{toString:function(){return $traceurRuntime.superCall(this,$MHBook.prototype,"toString",[])}},{get mhidPrefix(){return"mhbok"}},MHMedia),function(){MHObject.registerConstructor(MHBook)}(),{get MHBook(){return MHBook}}}),System.register("models/media/MHBookSeries",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHBookSeries=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHBookSeries.prototype,"constructor",[args])},$MHBookSeries=MHBookSeries;return $traceurRuntime.createClass(MHBookSeries,{toString:function(){return $traceurRuntime.superCall(this,$MHBookSeries.prototype,"toString",[])}},{get mhidPrefix(){return"mhbks"}},MHMedia),function(){MHObject.registerConstructor(MHBookSeries)}(),{get MHBookSeries(){return MHBookSeries}}}),System.register("models/media/MHComicBook",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHComicBook=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHComicBook.prototype,"constructor",[args])},$MHComicBook=MHComicBook;return $traceurRuntime.createClass(MHComicBook,{toString:function(){return $traceurRuntime.superCall(this,$MHComicBook.prototype,"toString",[])}},{get mhidPrefix(){return"mhcbk"}},MHMedia),function(){MHObject.registerConstructor(MHComicBook)}(),{get MHComicBook(){return MHComicBook}}}),System.register("models/media/MHComicBookSeries",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHComicBookSeries=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHComicBookSeries.prototype,"constructor",[args])},$MHComicBookSeries=MHComicBookSeries;return $traceurRuntime.createClass(MHComicBookSeries,{toString:function(){return $traceurRuntime.superCall(this,$MHComicBookSeries.prototype,"toString",[])}},{get mhidPrefix(){return"mhcbs"}},MHMedia),function(){MHObject.registerConstructor(MHComicBookSeries)}(),{get MHComicBookSeries(){return MHComicBookSeries}}}),System.register("models/media/MHGame",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHGame=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHGame.prototype,"constructor",[args])},$MHGame=MHGame;return $traceurRuntime.createClass(MHGame,{toString:function(){return $traceurRuntime.superCall(this,$MHGame.prototype,"toString",[])}},{get mhidPrefix(){return"mhgam"}},MHMedia),function(){MHObject.registerConstructor(MHGame)}(),{get MHGame(){return MHGame}}}),System.register("models/media/MHGameSeries",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHGameSeries=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHGameSeries.prototype,"constructor",[args])},$MHGameSeries=MHGameSeries;return $traceurRuntime.createClass(MHGameSeries,{toString:function(){return $traceurRuntime.superCall(this,$MHGameSeries.prototype,"toString",[])}},{get mhidPrefix(){return"mhgms"}},MHMedia),function(){MHObject.registerConstructor(MHGameSeries)}(),{get MHGameSeries(){return MHGameSeries}}}),System.register("models/media/MHGraphicNovel",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHGraphicNovel=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHGraphicNovel.prototype,"constructor",[args])},$MHGraphicNovel=MHGraphicNovel;return $traceurRuntime.createClass(MHGraphicNovel,{toString:function(){return $traceurRuntime.superCall(this,$MHGraphicNovel.prototype,"toString",[])}},{get mhidPrefix(){return"mhgnl"}},MHMedia),function(){MHObject.registerConstructor(MHGraphicNovel)}(),{get MHGraphicNovel(){return MHGraphicNovel}}}),System.register("models/media/MHGraphicNovelSeries",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHGraphicNovelSeries=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHGraphicNovelSeries.prototype,"constructor",[args])},$MHGraphicNovelSeries=MHGraphicNovelSeries;return $traceurRuntime.createClass(MHGraphicNovelSeries,{toString:function(){return $traceurRuntime.superCall(this,$MHGraphicNovelSeries.prototype,"toString",[])}},{get mhidPrefix(){return"mhgns"}},MHMedia),function(){MHObject.registerConstructor(MHGraphicNovelSeries)}(),{get MHGraphicNovelSeries(){return MHGraphicNovelSeries}}}),System.register("models/media/MHMovie",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHMovie=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHMovie.prototype,"constructor",[args])},$MHMovie=MHMovie;return $traceurRuntime.createClass(MHMovie,{toString:function(){return $traceurRuntime.superCall(this,$MHMovie.prototype,"toString",[])}},{get mhidPrefix(){return"mhmov"}},MHMedia),function(){MHObject.registerConstructor(MHMovie)}(),{get MHMovie(){return MHMovie}}}),System.register("models/media/MHMovieSeries",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHMovieSeries=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHMovieSeries.prototype,"constructor",[args])},$MHMovieSeries=MHMovieSeries;return $traceurRuntime.createClass(MHMovieSeries,{toString:function(){return $traceurRuntime.superCall(this,$MHMovieSeries.prototype,"toString",[])}},{get mhidPrefix(){return"mhmvs"}},MHMedia),function(){MHObject.registerConstructor(MHMovieSeries)}(),{get MHMovieSeries(){return MHMovieSeries}}}),System.register("models/media/MHMusicVideo",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHMusicVideo=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHMusicVideo.prototype,"constructor",[args])},$MHMusicVideo=MHMusicVideo;return $traceurRuntime.createClass(MHMusicVideo,{toString:function(){return $traceurRuntime.superCall(this,$MHMusicVideo.prototype,"toString",[])}},{get mhidPrefix(){return"mhmsv"}},MHMedia),function(){MHObject.registerConstructor(MHMusicVideo)}(),{get MHMusicVideo(){return MHMusicVideo}}}),System.register("models/media/MHNovella",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHNovella=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHNovella.prototype,"constructor",[args])},$MHNovella=MHNovella;return $traceurRuntime.createClass(MHNovella,{toString:function(){return $traceurRuntime.superCall(this,$MHNovella.prototype,"toString",[])}},{get mhidPrefix(){return"mhnov"}},MHMedia),function(){MHObject.registerConstructor(MHNovella)}(),{get MHNovella(){return MHNovella}}}),System.register("models/media/MHPeriodical",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHPeriodical=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHPeriodical.prototype,"constructor",[args])},$MHPeriodical=MHPeriodical;return $traceurRuntime.createClass(MHPeriodical,{toString:function(){return $traceurRuntime.superCall(this,$MHPeriodical.prototype,"toString",[])}},{get mhidPrefix(){return"mhpdc"}},MHMedia),function(){MHObject.registerConstructor(MHPeriodical)}(),{get MHPeriodical(){return MHPeriodical}}}),System.register("models/media/MHPeriodicalSeries",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHPeriodicalSeries=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHPeriodicalSeries.prototype,"constructor",[args])},$MHPeriodicalSeries=MHPeriodicalSeries;return $traceurRuntime.createClass(MHPeriodicalSeries,{toString:function(){return $traceurRuntime.superCall(this,$MHPeriodicalSeries.prototype,"toString",[])}},{get mhidPrefix(){return"mhpds"}},MHMedia),function(){MHObject.registerConstructor(MHPeriodicalSeries)}(),{get MHPeriodicalSeries(){return MHPeriodicalSeries}}}),System.register("models/media/MHShowEpisode",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHShowEpisode=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHShowEpisode.prototype,"constructor",[args])},$MHShowEpisode=MHShowEpisode;return $traceurRuntime.createClass(MHShowEpisode,{toString:function(){return $traceurRuntime.superCall(this,$MHShowEpisode.prototype,"toString",[])}},{get mhidPrefix(){return"mhsep"}},MHMedia),function(){MHObject.registerConstructor(MHShowEpisode)}(),{get MHShowEpisode(){return MHShowEpisode}}}),System.register("models/media/MHShowSeason",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHShowSeason=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHShowSeason.prototype,"constructor",[args])},$MHShowSeason=MHShowSeason;return $traceurRuntime.createClass(MHShowSeason,{toString:function(){return $traceurRuntime.superCall(this,$MHShowSeason.prototype,"toString",[])}},{get mhidPrefix(){return"mhssn"}},MHMedia),function(){MHObject.registerConstructor(MHShowSeason)}(),{get MHShowSeason(){return MHShowSeason}}}),System.register("models/media/MHShowSeries",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHShowSeries=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHShowSeries.prototype,"constructor",[args])},$MHShowSeries=MHShowSeries;return $traceurRuntime.createClass(MHShowSeries,{toString:function(){return $traceurRuntime.superCall(this,$MHShowSeries.prototype,"toString",[])}},{get mhidPrefix(){return"mhsss"}},MHMedia),function(){MHObject.registerConstructor(MHShowSeries)}(),{get MHShowSeries(){return MHShowSeries}}}),System.register("models/media/MHSong",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHSong=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHSong.prototype,"constructor",[args])},$MHSong=MHSong;return $traceurRuntime.createClass(MHSong,{toString:function(){return $traceurRuntime.superCall(this,$MHSong.prototype,"toString",[])}},{get mhidPrefix(){return"mhsng"}},MHMedia),function(){MHObject.registerConstructor(MHSong)}(),{get MHSong(){return MHSong}}}),System.register("models/media/MHSpecial",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHSpecial=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHSpecial.prototype,"constructor",[args])},$MHSpecial=MHSpecial;return $traceurRuntime.createClass(MHSpecial,{toString:function(){return $traceurRuntime.superCall(this,$MHSpecial.prototype,"toString",[])}},{get mhidPrefix(){return"mhspc"}},MHMedia),function(){MHObject.registerConstructor(MHSpecial)}(),{get MHSpecial(){return MHSpecial}}}),System.register("models/media/MHSpecialSeries",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHSpecialSeries=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHSpecialSeries.prototype,"constructor",[args])},$MHSpecialSeries=MHSpecialSeries;return $traceurRuntime.createClass(MHSpecialSeries,{toString:function(){return $traceurRuntime.superCall(this,$MHSpecialSeries.prototype,"toString",[])}},{get mhidPrefix(){return"mhsps"}},MHMedia),function(){MHObject.registerConstructor(MHSpecialSeries)}(),{get MHSpecialSeries(){return MHSpecialSeries}}}),System.register("models/media/MHTrailer",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHMedia=System.get("models/media/MHMedia").MHMedia,MHTrailer=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHTrailer.prototype,"constructor",[args])},$MHTrailer=MHTrailer;return $traceurRuntime.createClass(MHTrailer,{toString:function(){return $traceurRuntime.superCall(this,$MHTrailer.prototype,"toString",[])}},{get mhidPrefix(){return"mhtrl"}},MHMedia),function(){MHObject.registerConstructor(MHTrailer)}(),{get MHTrailer(){return MHTrailer}}}),System.register("models/trait/MHTrait",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHTrait.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHTrait=MHTrait;return $traceurRuntime.createClass(MHTrait,{toString:function(){return $traceurRuntime.superCall(this,$MHTrait.prototype,"toString",[])}},{},MHObject),{get MHTrait(){return MHTrait}}}),System.register("models/trait/MHAchievements",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHAchievements=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHAchievements.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHAchievements=MHAchievements;return $traceurRuntime.createClass(MHAchievements,{toString:function(){return $traceurRuntime.superCall(this,$MHAchievements.prototype,"toString",[])}},{get mhidPrefix(){return"mhach"}},MHTrait),function(){MHObject.registerConstructor(MHAchievements)}(),{get MHAchievements(){return MHAchievements}}}),System.register("models/trait/MHAudience",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHAudience=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHAudience.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHAudience=MHAudience;return $traceurRuntime.createClass(MHAudience,{toString:function(){return $traceurRuntime.superCall(this,$MHAudience.prototype,"toString",[])}},{get mhidPrefix(){return"mhaud"}},MHTrait),function(){MHObject.registerConstructor(MHAudience)}(),{get MHAudience(){return MHAudience}}}),System.register("models/trait/MHEra",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHEra=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHEra.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHEra=MHEra;return $traceurRuntime.createClass(MHEra,{toString:function(){return $traceurRuntime.superCall(this,$MHEra.prototype,"toString",[])}},{get mhidPrefix(){return"mhera"}},MHTrait),function(){MHObject.registerConstructor(MHEra)}(),{get MHEra(){return MHEra}}}),System.register("models/trait/MHFlag",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHFlag=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHFlag.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHFlag=MHFlag;return $traceurRuntime.createClass(MHFlag,{toString:function(){return $traceurRuntime.superCall(this,$MHFlag.prototype,"toString",[])}},{get mhidPrefix(){return"mhflg"}},MHTrait),function(){MHObject.registerConstructor(MHFlag)}(),{get MHFlag(){return MHFlag}}}),System.register("models/trait/MHGenre",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHGenre=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHGenre.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHGenre=MHGenre;return $traceurRuntime.createClass(MHGenre,{toString:function(){return $traceurRuntime.superCall(this,$MHGenre.prototype,"toString",[])}},{get mhidPrefix(){return"mhgnr"}},MHTrait),function(){MHObject.registerConstructor(MHGenre)}(),{get MHGenre(){return MHGenre}}}),System.register("models/trait/MHGraphGenre",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHGraphGenre=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHGraphGenre.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHGraphGenre=MHGraphGenre;return $traceurRuntime.createClass(MHGraphGenre,{toString:function(){return $traceurRuntime.superCall(this,$MHGraphGenre.prototype,"toString",[])}},{get mhidPrefix(){return"mhgrg"}},MHTrait),function(){MHObject.registerConstructor(MHGraphGenre)}(),{get MHGraphGenre(){return MHGraphGenre}}}),System.register("models/trait/MHMaterialSource",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHMaterialSource=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHMaterialSource.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHMaterialSource=MHMaterialSource;return $traceurRuntime.createClass(MHMaterialSource,{toString:function(){return $traceurRuntime.superCall(this,$MHMaterialSource.prototype,"toString",[])}},{get mhidPrefix(){return"mhmts"}},MHTrait),function(){MHObject.registerConstructor(MHMaterialSource)}(),{get MHMaterialSource(){return MHMaterialSource}}}),System.register("models/trait/MHMood",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHMood=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHMood.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHMood=MHMood;return $traceurRuntime.createClass(MHMood,{toString:function(){return $traceurRuntime.superCall(this,$MHMood.prototype,"toString",[])}},{get mhidPrefix(){return"mhmod"}},MHTrait),function(){MHObject.registerConstructor(MHMood)}(),{get MHMood(){return MHMood}}}),System.register("models/trait/MHQuality",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHQuality=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHQuality.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHQuality=MHQuality;return $traceurRuntime.createClass(MHQuality,{toString:function(){return $traceurRuntime.superCall(this,$MHQuality.prototype,"toString",[])}},{get mhidPrefix(){return"mhqlt"}},MHTrait),function(){MHObject.registerConstructor(MHQuality)}(),{get MHQuality(){return MHQuality}}}),System.register("models/trait/MHStoryElement",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHStoryElement=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHStoryElement.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHStoryElement=MHStoryElement;return $traceurRuntime.createClass(MHStoryElement,{toString:function(){return $traceurRuntime.superCall(this,$MHStoryElement.prototype,"toString",[])}},{get mhidPrefix(){return"mhstr"}},MHTrait),function(){MHObject.registerConstructor(MHStoryElement)}(),{get MHStoryElement(){return MHStoryElement}}}),System.register("models/trait/MHStyleElement",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHStyleElement=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHStyleElement.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHStyleElement=MHStyleElement;return $traceurRuntime.createClass(MHStyleElement,{toString:function(){return $traceurRuntime.superCall(this,$MHStyleElement.prototype,"toString",[])}},{get mhidPrefix(){return"mhsty"}},MHTrait),function(){MHObject.registerConstructor(MHStyleElement)}(),{get MHStyleElement(){return MHStyleElement}}}),System.register("models/trait/MHSubGenre",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHSubGenre=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHSubGenre.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHSubGenre=MHSubGenre;return $traceurRuntime.createClass(MHSubGenre,{toString:function(){return $traceurRuntime.superCall(this,$MHSubGenre.prototype,"toString",[])}},{get mhidPrefix(){return"mhsgn"}},MHTrait),function(){MHObject.registerConstructor(MHSubGenre)}(),{get MHSubGenre(){return MHSubGenre}}}),System.register("models/trait/MHTheme",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHTheme=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHTheme.prototype,"constructor",[args]);var description=args.description||null;Object.defineProperties(this,{description:{configurable:!1,enumerable:!0,writable:!1,value:description}})},$MHTheme=MHTheme;return $traceurRuntime.createClass(MHTheme,{toString:function(){return $traceurRuntime.superCall(this,$MHTheme.prototype,"toString",[])}},{get mhidPrefix(){return"mhthm"}},MHTrait),function(){MHObject.registerConstructor(MHTheme)}(),{get MHTheme(){return MHTheme}}}),System.register("models/trait/MHTraitGroup",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHTraitGroup=function(args){args=MHObject.parseArgs(args),$traceurRuntime.superCall(this,$MHTraitGroup.prototype,"constructor",[args])},$MHTraitGroup=MHTraitGroup;return $traceurRuntime.createClass(MHTraitGroup,{toString:function(){return $traceurRuntime.superCall(this,$MHTraitGroup.prototype,"toString",[])}},{get mhidPrefix(){return"mhtrg"}},MHObject),function(){MHObject.registerConstructor(MHTraitGroup)}(),{get MHTraitGroup(){return MHTraitGroup}}}),System.register("models/all-models",[],function(){"use strict";var MHObject=System.get("models/base/MHObject").MHObject,MHEmbeddedObject=System.get("models/base/MHEmbeddedObject").MHEmbeddedObject,MHEmbeddedRelation=System.get("models/base/MHEmbeddedRelation").MHEmbeddedRelation,MHRelationalPair=System.get("models/base/MHRelationalPair").MHRelationalPair,MHAction=System.get("models/action/MHAction").MHAction,MHAdd=System.get("models/action/MHAdd").MHAdd,MHComment=System.get("models/action/MHComment").MHComment,MHCreate=System.get("models/action/MHCreate").MHCreate,MHLike=System.get("models/action/MHLike").MHLike,MHFollow=System.get("models/action/MHFollow").MHFollow,MHPost=System.get("models/action/MHPost").MHPost,MHUser=System.get("models/user/MHUser").MHUser,MHLoginSession=System.get("models/user/MHLoginSession").MHLoginSession,MHSocial=System.get("models/social/MHSocial").MHSocial,MHMedia=System.get("models/media/MHMedia").MHMedia,MHAlbum=System.get("models/media/MHAlbum").MHAlbum,MHAlbumSeries=System.get("models/media/MHAlbumSeries").MHAlbumSeries,MHAnthology=System.get("models/media/MHAnthology").MHAnthology,MHBook=System.get("models/media/MHBook").MHBook,MHBookSeries=System.get("models/media/MHBookSeries").MHBookSeries,MHComicBook=System.get("models/media/MHComicBook").MHComicBook,MHComicBookSeries=System.get("models/media/MHComicBookSeries").MHComicBookSeries,MHGame=System.get("models/media/MHGame").MHGame,MHGameSeries=System.get("models/media/MHGameSeries").MHGameSeries,MHGraphicNovel=System.get("models/media/MHGraphicNovel").MHGraphicNovel,MHGraphicNovelSeries=System.get("models/media/MHGraphicNovelSeries").MHGraphicNovelSeries,MHMovie=System.get("models/media/MHMovie").MHMovie,MHMovieSeries=System.get("models/media/MHMovieSeries").MHMovieSeries,MHMusicVideo=System.get("models/media/MHMusicVideo").MHMusicVideo,MHNovella=System.get("models/media/MHNovella").MHNovella,MHPeriodical=System.get("models/media/MHPeriodical").MHPeriodical,MHPeriodicalSeries=System.get("models/media/MHPeriodicalSeries").MHPeriodicalSeries,MHShowEpisode=System.get("models/media/MHShowEpisode").MHShowEpisode,MHShowSeason=System.get("models/media/MHShowSeason").MHShowSeason,MHShowSeries=System.get("models/media/MHShowSeries").MHShowSeries,MHSong=System.get("models/media/MHSong").MHSong,MHSpecial=System.get("models/media/MHSpecial").MHSpecial,MHSpecialSeries=System.get("models/media/MHSpecialSeries").MHSpecialSeries,MHTrailer=System.get("models/media/MHTrailer").MHTrailer,MHCollection=System.get("models/collection/MHCollection").MHCollection,MHImage=System.get("models/image/MHImage").MHImage,MHTrait=System.get("models/trait/MHTrait").MHTrait,MHTraitGroup=System.get("models/trait/MHTraitGroup").MHTraitGroup,MHGenre=System.get("models/trait/MHGenre").MHGenre,MHSubGenre=System.get("models/trait/MHSubGenre").MHSubGenre,MHMood=System.get("models/trait/MHMood").MHMood,MHQuality=System.get("models/trait/MHQuality").MHQuality,MHStyleElement=System.get("models/trait/MHStyleElement").MHStyleElement,MHStoryElement=System.get("models/trait/MHStoryElement").MHStoryElement,MHMaterialSource=System.get("models/trait/MHMaterialSource").MHMaterialSource,MHTheme=System.get("models/trait/MHTheme").MHTheme,MHAchievements=System.get("models/trait/MHAchievements").MHAchievements,MHEra=System.get("models/trait/MHEra").MHEra,MHAudience=System.get("models/trait/MHAudience").MHAudience,MHFlag=System.get("models/trait/MHFlag").MHFlag,MHGraphGenre=System.get("models/trait/MHGraphGenre").MHGraphGenre,MHContributor=System.get("models/contributor/MHContributor").MHContributor,MHRealIndividualContributor=System.get("models/contributor/MHRealIndividualContributor").MHRealIndividualContributor,MHRealGroupContributor=System.get("models/contributor/MHRealGroupContributor").MHRealGroupContributor,MHFictionalIndividualContributor=System.get("models/contributor/MHFictionalIndividualContributor").MHFictionalIndividualContributor,MHFictionalGroupContributor=System.get("models/contributor/MHFictionalGroupContributor").MHFictionalGroupContributor,MHSourceFormat=System.get("models/source/MHSourceFormat").MHSourceFormat,MHSourceMethod=System.get("models/source/MHSourceMethod").MHSourceMethod,MHSourceMedium=System.get("models/source/MHSourceMedium").MHSourceMedium,MHSourceModel=System.get("models/source/MHSourceModel").MHSourceModel;delete MHObject.registerConstructor;var models={get MHObject(){return MHObject},get MHEmbeddedObject(){return MHEmbeddedObject},get MHEmbeddedRelation(){return MHEmbeddedRelation},get MHRelationalPair(){return MHRelationalPair},get MHAction(){return MHAction},get MHAdd(){return MHAdd},get MHComment(){return MHComment},get MHCreate(){return MHCreate},get MHLike(){return MHLike},get MHFollow(){return MHFollow},get MHPost(){return MHPost},get MHUser(){return MHUser},get MHLoginSession(){return MHLoginSession},get MHSocial(){return MHSocial},get MHMedia(){return MHMedia},get MHAlbum(){return MHAlbum},get MHAlbumSeries(){return MHAlbumSeries},get MHAnthology(){return MHAnthology},get MHBook(){return MHBook},get MHBookSeries(){return MHBookSeries},get MHComicBook(){return MHComicBook},get MHComicBookSeries(){return MHComicBookSeries},get MHGame(){return MHGame},get MHGameSeries(){return MHGameSeries},get MHGraphicNovel(){return MHGraphicNovel},get MHGraphicNovelSeries(){return MHGraphicNovelSeries},get MHMovie(){return MHMovie},get MHMovieSeries(){return MHMovieSeries},get MHMusicVideo(){return MHMusicVideo},get MHNovella(){return MHNovella},get MHPeriodical(){return MHPeriodical},get MHPeriodicalSeries(){return MHPeriodicalSeries},get MHShowEpisode(){return MHShowEpisode},get MHShowSeason(){return MHShowSeason},get MHShowSeries(){return MHShowSeries},get MHSong(){return MHSong},get MHSpecial(){return MHSpecial},get MHSpecialSeries(){return MHSpecialSeries},get MHTrailer(){return MHTrailer},get MHCollection(){return MHCollection},get MHImage(){return MHImage},get MHTrait(){return MHTrait},get MHTraitGroup(){return MHTraitGroup},get MHGenre(){return MHGenre},get MHSubGenre(){return MHSubGenre},get MHMood(){return MHMood},get MHQuality(){return MHQuality},get MHStyleElement(){return MHStyleElement},get MHStoryElement(){return MHStoryElement},get MHMaterialSource(){return MHMaterialSource},get MHTheme(){return MHTheme},get MHAchievements(){return MHAchievements},get MHEra(){return MHEra},get MHAudience(){return MHAudience},get MHFlag(){return MHFlag},get MHGraphGenre(){return MHGraphGenre},get MHContributor(){return MHContributor},get MHRealIndividualContributor(){return MHRealIndividualContributor},get MHRealGroupContributor(){return MHRealGroupContributor},get MHFictionalIndividualContributor(){return MHFictionalIndividualContributor},get MHFictionalGroupContributor(){return MHFictionalGroupContributor},get MHSourceFormat(){return MHSourceFormat},get MHSourceMethod(){return MHSourceMethod},get MHSourceMedium(){return MHSourceMedium},get MHSourceModel(){return MHSourceModel}};return{get models(){return models}}}),System.register("search/paged-search",[],function(){"use strict";var pagedSearch=function(){},$__default=pagedSearch;return{get pagedSearch(){return pagedSearch},get default(){return $__default}}}),System.register("search/quick-search",[],function(){"use strict";var i,prop,buildSearchHelper,quickSearch,$__0=System.get("models/internal/debug-helpers"),warn=$__0.warn,error=$__0.error,houndRequest=System.get("request/hound-request").houndRequest,MHObject=System.get("models/base/MHObject").MHObject,search={},extraEncode=houndRequest.extraEncode,types=["all","movie","song","album","tvseries","book","game","person","collection","user"],makeEndpoint=function(searchType,query){return"search/"+searchType+"/find/"+extraEncode(query)+"/autocomplete"},makeParams=function(size){var params={page:0};return params["page.size"]="number"==typeof size?size:8,params},makeSearchRequest=function(searchType,query,size){return houndRequest({method:"GET",endpoint:makeEndpoint(searchType,query),params:makeParams(size)})
};for(buildSearchHelper=function(index){search[types[index]]=function(query,size){return makeSearchRequest(types[index],query,size).then(function(parsed){return parsed.content=parsed.content.map(function(v){return"string"==typeof v.primaryImageUrl&&(v.primaryImage={mhid:"mhimgPlaceHolderSearchShim",url:v.primaryImageUrl,isDefault:!1}),v}),parsed}).then(function(parsed){var mhObj;return parsed.content.map(function(v){try{return mhObj=MHObject.create(v)}catch(e){return warn("unrecognized mhid prefix: ",v.mhid),error(e),v}})})}},i=0;i<types.length;i++)buildSearchHelper(i);quickSearch=function(query,size){var j,typeMap={};return Promise.all(types.map(function(v){return search[v](query,size)})).then(function(results){for(j=0;j<types.length;j++)typeMap[types[j]]=results[j];return typeMap})};for(prop in search)search.hasOwnProperty(prop)&&(quickSearch[prop]=search[prop]);return quickSearch.everything=function(query,size){var currType,i=0,rtn={};for(currType=types[i];i<types.length;currType=types[++i])rtn[currType]=search[currType](query,size);return rtn},{get quickSearch(){return quickSearch}}}),System.register("hound-api",[],function(){"use strict";var request=System.get("request/hound-request").houndRequest,pagedRequest=System.get("request/hound-paged-request").pagedRequest,models=System.get("models/all-models").models,quickSearch=System.get("search/quick-search").quickSearch,pagedSearch=System.get("search/paged-search").pagedSearch,$__default={get models(){return models},get request(){return request},get pagedRequest(){return pagedRequest},get quickSearch(){return quickSearch},get pagedSearch(){return pagedSearch}};return{get request(){return request},get pagedRequest(){return pagedRequest},get models(){return models},get quickSearch(){return quickSearch},get pagedSearch(){return pagedSearch},get default(){return $__default}}}),System.get("hound-api");